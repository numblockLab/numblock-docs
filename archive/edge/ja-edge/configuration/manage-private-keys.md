---
id: manage-private-keys
title: 秘密鍵の管理
description: "秘密鍵の管理方法と鍵の種類。"
keywords:
  - docs
  - polygon
  - edge
  - private
  - key
  - keystore
---

## 概要 {#overview}

Polygon Edgeには、直接管理する2種類の秘密鍵があります：

* **コンセンサスメカニズムに使用される秘密鍵**
* **libp2pによるネットワークに使用される秘密鍵**
* **（オプション）バリデータの署名を集約するためのコンセンサスメカニズムに使用されるBLS秘密鍵**

現在、Polygon Edgeは直接のアカウント管理をサポートしていません。

[バックアップと復元ガイド](/docs/edge/working-with-node/backup-restore)で概説されているディレクトリ構造に基づいて、Polygon Edgeはこれらの鍵ファイルを2つの異なるディレクトリ（**コンセンサス**と**キーストア**）に保存します。

## 鍵形式 {#key-format}

秘密鍵はシンプルな**Base64形式**で保存されているため、人間が読みやすく携帯性があります。

```bash
# Example private key
0802122068a1bdb1c8af5333e58fe586bc0e9fc7aff882da82affb678aef5d9a2b9100c0
```

:::info 鍵タイプ

Polygon Edge内で生成および使用されるすべての秘密鍵ファイルは、曲線[secp256k1](https://en.bitcoin.it/wiki/Secp256k1)のECDSAに依存しています。

カーブは非標準であるため、標準化されたPEM形式で符号化および保存することはできません。この鍵タイプに準拠していない鍵のインポートはサポートされていません。
:::
## コンセンサス秘密鍵 {#consensus-private-key}

*コンセンサス秘密鍵*として言及される秘密鍵ファイルは、**バリデータ秘密鍵**とも呼ばれます。この秘密鍵は、ノードがネットワーク内でバリデータとして動作しており、新しいデータに署名する必要がある場合に使用されます。

秘密鍵ファイルは`consensus/validator.key`にあり、前述の[鍵形式](/docs/edge/configuration/manage-private-keys#key-format)に準拠しています。

:::warning

バリデータ秘密鍵は、各バリデータノードに固有です。同じ鍵をすべてのバリデータ間で共有することは<b>できません</b>。これはチェーンのセキュリティを損なう可能性があるためです。
:::

## ネットワーク秘密鍵 {#networking-private-key}

ネットワーク用に記述された秘密鍵ファイルは、対応するPeerIDを生成し、ノードがネットワークに参加するようにするためにlibp2pによって使用されます。

これは`keystore/libp2p.key`にあり、前述の[鍵形式](/docs/edge/configuration/manage-private-keys#key-format)に準拠しています。

## BLS秘密鍵 {#bls-secret-key}

BLS秘密鍵ファイルは、コンセンサスレイヤーでコミットされたシールを集約するために使用されます。BLSによる集約コミットシールのサイズは、シリアル化されたコミットECDSA署名よりも小さくなります。

BLS機能はオプションであり、BLSを使用するかどうかを選択できます。詳細については、[BLS](/docs/edge/consensus/bls)を参照してください。

## インポート／エクスポート {#import-export}

鍵ファイルはディスク上のシンプルなBase64に保存されているため、簡単にバックアップまたはインポートできます。

:::caution 鍵ファイルの変更

すでに設定されている／実行中のネットワーク上の鍵ファイルに対して何らかの変更を加えると、重大なネットワーク／コンセンサスの中断が発生する可能性があります。これは、コンセンサスおよびピア検出メカニズムによってこれらの鍵から派生したデータがノード固有のストレージに保存され、このデータによって接続が開始され、コンセンサスロジックが実行されるためです。
:::