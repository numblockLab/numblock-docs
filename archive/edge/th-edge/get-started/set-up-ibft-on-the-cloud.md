---
id: set-up-ibft-on-the-cloud
title: การตั้งค่าในระบบคลาวด์
description: "คู่มือการตั้งค่าในระบบคลาวด์แบบทีละขั้นตอน"
keywords:
  - docs
  - polygon
  - edge
  - cloud
  - setup
  - genesis
---

:::info คู่มือฉบับนี้ใช้ได้สำหรับการตั้งค่า Mainnet หรือ Testnet

คู่มือดังต่อไปนี้จะให้คำแนะนำกับคุณเกี่ยวกับวิธีการตั้งค่าเครือข่าย Polygon Edge ในผู้ให้บริการคลาวด์ เพื่อตั้งค่า Testnet หรือ Mainnet ของคุณไว้สำหรับการใช้งานจริง

หากคุณต้องการตั้งค่าเครือข่าย Polygon Edge ภายในเพื่อทดสอบ `polygon-edge` อย่างรวดเร็ว ก่อนดำเนินการตั้งค่าแบบใช้งานจริง โปรดไปยัง
**[ตั้งค่าแบบท้องถิ่น](/docs/edge/get-started/set-up-ibft-locally)**
:::

## ข้อกำหนด {#requirements}

โปรดดู[การติดตั้ง](/docs/edge/get-started/installation)เพื่อติดตั้ง Polygon Edge

### การตั้งการเชื่อมต่อ VM {#setting-up-the-vm-connectivity}

ตามผู้ให้บริการคลาวด์ที่คุณเลือก คุณอาจตั้งค่าการเชื่อมต่อและกฎระหว่าง VM ต่างๆ โดยใช้ไฟร์วอลล์
กลุ่มความปลอดภัย หรือรายการควบคุมการเข้าถึง

เนื่องจากส่วนของ `polygon-edge` ที่ต้องแสดงต่อ VM อื่นๆ มีเพียงแค่เซิร์ฟเวอร์ libp2p เพียงเท่านั้น ดังนั้น เพียงอนุญาตให้
มีการสื่อสารระหว่าง VM ต่างๆ ในพอร์ตเริ่มต้น libp2p `1478` ก็พอแล้ว

## ภาพรวม {#overview}

![การตั้งค่าในระบบคลาวด์](/img/edge/ibft-setup/cloud.svg)

ในคู่มือนี้ เป้าหมายของเราคือการสร้างเครือข่ายบล็อกเชน `polygon-edge` ที่ใช้งานได้และใช้ได้กับ[โปรโตคอลฉันทามติ IBFT](https://github.com/ethereum/EIPs/issues/650)
เครือข่ายบล็อกเชนจะประกอบด้วยโหนดจำนวน 4 โหนด ซึ่งเป็นโหนดตัวตรวจสอบความถูกต้องทั้งหมด จึงสามารถคัดเลือกได้ทั้งเพื่อเสนอบล็อกและตรวจสอบความถูกต้องของบล็อกซึ่งรับมาจากผู้เสนออื่นๆโหนดแต่ละโหนดจากทั้งหมด 4 โหนดจะเรียกใช้ VM ของตัวเอง เนื่องจากวัตถุประสงค์ของคู่มือฉบับนี้คือ การให้เครือข่าย Polygon Edge ที่สามารถใช้งานได้เต็มรูปแบบกับคุณ ไปพร้อมๆ กับการรักษาความเป็นส่วนตัวของคีย์ตัวตรวจสอบความถูกต้อง เพื่อทำให้มั่นใจได้ถึงการตั้งค่าเครือข่ายที่ไม่ต้องใช้ความไว้วางใจ

เพื่อให้บรรลุเป้าหมายนั้น เราจะให้คำแนะนำกับคุณผ่าน 4 ขั้นตอนง่ายๆ ดังต่อไปนี้:

0. โปรดดูรายการ**ข้อกำหนด**ด้านบน
1. สร้างคีย์ส่วนตัวสำหรับตัวตรวจสอบความถูกต้องแต่ละตัว และเริ่มต้นใช้งานไดเรกทอรีข้อมูล
2. เตรียมสตริงเชื่อมต่อสำหรับบูตโหนดเพื่อให้ทำการเพิ่มลงใน `genesis.json` ที่ใช้ร่วมกัน
3. สร้าง `genesis.json` ในเครื่องของคุณและส่ง/โอนไปยังโหนดแต่ละโหนด
4. เริ่มใช้งานโหนดทั้งหมด

:::info จำนวนตัวตรวจสอบความถูกต้อง

ไม่มีขั้นต่ำของจำนวนโหนดในคลัสเตอร์ กล่าวคือ คุณสามารถใช้คลัสเตอร์ที่ประกอบด้วยโหนดตัวตรวจสอบความถูกต้องเพียงโหนดเดียวได้โปรดจำไว้ว่า หากคุณใช้คลัสเตอร์ที่ประกอบด้วยโหนด_เดียว_ จะ**ไม่มีการทนทานต่อการหยุดทำงาน**และ**ไม่มีการรับประกัน BFT**

จำนวนโหนดขั้นต่ำที่แนะนำเพื่อให้ได้รับการรับประกันจาก BFT อยู่ที่ 4 โหนด เนื่องจากในคลัสเตอร์ที่ประกอบด้วย 4 โหนด การขัดข้องของโหนด 1 โหนดยังสามารถยอมให้เกิดขึ้นได้ โดยมีโหนดอีก 3 โหนดซึ่งใช้งานโดยปกติ

:::

## ขั้นตอนที่ 1: เริ่มใช้งานโฟลเดอร์ข้อมูลและสร้างคีย์ตัวตรวจสอบความถูกต้อง {#step-1-initialize-data-folders-and-generate-validator-keys}

เพื่อเริ่มและเรียกใช้งานกับ Polygon Edge คุณต้องเริ่มใช้งานโฟลเดอร์ข้อมูลสำหรับแต่ละโหนด:


````bash
node-1> polygon-edge secrets init --data-dir data-dir
````

````bash
node-2> polygon-edge secrets init --data-dir data-dir
````

````bash
node-3> polygon-edge secrets init --data-dir data-dir
````

````bash
node-4> polygon-edge secrets init --data-dir data-dir
````

คำสั่งเหล่านี้แต่ละคำสั่งจะพิมพ์คีย์ตัวตรวจสอบความถูกต้อง คีย์สาธารณะ bls และ [ID โหนด](https://docs.libp2p.io/concepts/peer-id/)คุณจะต้องใช้ ID โหนดสำหรับโหนดรายแรกเพื่อสามารถดำเนินตามขั้นตอนถัดไป

### เอารหัสออก {#outputting-secrets}
สามารถเรียกเก็บเอาต์พุตของลับได้อีกหากจำเป็น

```bash
polygon-edge secrets output --data-dir test-chain-4
```

:::warning โปรดรักษาความเป็นส่วนตัวของไดเรกทอรีข้อมูลของคุณ

นอกจากเริ่มใช้งานไดเรกทอรีเพื่อรักษาสถานะของบล็อกเชน บรรดาไดเรกทอรีข้อมูลที่สร้างมาตามคำแนะนำด้านบนจะสร้างบรรดาคีย์ส่วนตัวของตัวตรวจสอบความถูกต้องของคุณ**คุณต้องเก็บคีย์นี้เป็นข้อมูลลับ เนื่องจากการขโมยคีย์นั้นไปได้ จะทำให้บางคนสามารถแสดงตนว่าเป็นคุณ ในขณะทำหน้าที่เป็นตัวตรวจสอบความถูกต้องในเครือข่าย**

:::

## ขั้นตอนที่ 2: เตรียมสตริงการเชื่อมต่อ multiaddr สำหรับบูตโหนด {#step-2-prepare-the-multiaddr-connection-string-for-the-bootnode}

เพื่อให้โหนดประสบความสำเร็จในการเชื่อมต่อ โหนดนั้นต้องทราบว่า ต้องเชื่อมต่อกับเซิร์ฟเวอร์ไหนของ `bootnode` เพื่อ
ให้ได้ข้อมูลเกี่ยวกับโหนดทั้งหมดที่เหลืออยู่ในเครือข่าย บางครั้ง เราก็เรียก `bootnode` ว่าเซิร์ฟเวอร์ `rendezvous` ตามคำศัพท์พิเศษของ p2p

 `bootnode` ไม่ถือว่าเป็นอินสแตนซ์ของโหนด Polygon Edgeโหนด Polygon Edge ทั้งหมดสามารถทำหน้าที่เป็น `bootnode` และ
โหนด Polygon Edge ทั้งหมดต้องมีการะบุชุดบูตโหนดไว้แล้ว โดยมีการติดต่อบูตโหนดดังกล่าวเพื่อส่งมอบข้อมูลเกี่ยวกับการเชื่อมต่อกับ
โหนดทั้งหมดที่เหลืออยู่ในเครือข่าย

เพื่อสร้างสตริงการเชื่อมต่อเพื่อระบุบูตโหนด เราจะต้องใช้[รูปแบบ multaddr](https://docs.libp2p.io/concepts/addressing/):
```
/ip4/<ip_address>/tcp/<port>/p2p/<node_id>
```

ในคู่มือนี้ เราจะใช้โหนดแรกและโหนดที่สองเป็นบูตโหนดสำหรับโหนดที่เหลือทั้งหมดสิ่งที่เกิดขึ้นในสถานการณ์นี้คือบรรดาโหนดที่เชื่อมต่อกับ `node 1` หรือ `node 2` จะได้รับข้อมูลเกี่ยวกับวิธีการเชื่อมต่อกันและกันผ่านการใช้บูตโหนดที่ได้ติดต่อร่วมกัน

:::info คุณต้องระบุบูตโหนดอย่างน้อยหนึ่งโหนดเพื่อเริ่มใช้โหนด

ต้องมีบูตโหนดอย่างน้อย**หนึ่ง**โหนด เพื่อทำให้โหนดอื่นๆ ในเครือข่ายสามารถค้นหากันได้แนะนำให้ใช้บูตโหนดมากขึ้น เนื่องจากให้ความสามารถในการฟื้นฟูกับเครือข่ายในกรณีที่เกิดการขัดข้องในคู่มือนี้ เราจะระบุสองโหนด แต่คุณสามารถทำการเปลี่ยนแปลงได้ในระหว่างการดำเนินการ โดยจะไม่ส่งผลกระทบต่อความสมบูรณ์ของไฟล์ `genesis.json`
:::

เนื่องจากส่วนแรกของสตริงการเชื่อมต่อ multiaddr คือ `<ip_address>` คุณจะต้องใส่ที่อยู่ IP เป็นที่อยู่ที่เข้าถึงได้จากโหนดอื่นๆ ที่นี่ ซึ่งอาจเป็นที่อยู่ IP ส่วนตัวหรือ IP สาธารณะตามการตั้งค่าของคุณ โดยที่ไม่ใช่ `127.0.0.1`

สำหรับ `<port>` เราจะใช้ `1478` เนื่องจากเป็นพอร์ต libp2p เริ่มต้น

สุดท้ายแล้ว เราต้องการ `<node_id>` ซึ่งเราสามารถได้รับจากเอาต์พุตคำสั่งที่เรียกใช้มาก่อน ได้แก่ คำสั่ง `polygon-edge secrets init --data-dir data-dir` (ซึ่งเราได้ใช้เพื่อสร้างคีย์และไดเรกทอรีข้อมูลสำหรับ `node 1`)

หลังจากมีการประกอบแล้ว สตริงการเชื่อมต่อ multiaddr ซึ่งใช้กับ `node 1` ที่เราจะใช้เป็นบูตโหนด จะมีลักษณะเช่นนี้ (เพียงแต่ `<node_id>` ในปลายทางต้องมีค่าอื่น):
```
/ip4/<public_or_private_ip>/tcp/1478/p2p/16Uiu2HAmJxxH1tScDX2rLGSU9exnuvZKNM9SoK3v315azp68DLPW
```
ในทำนองเดียวกัน เราสร้าง multiaddr สำหรับบูตโหนดที่สองตามที่แสดงไว้ด้านล่าง
```
/ip4/<public_or_private_ip>/tcp/1478/p2p/16Uiu2HAmS9Nq4QAaEiogE4ieJFUYsoH28magT7wSvJPpfUGBj3Hq
```
:::info ชื่อโฮสต์ DNS ที่ใช้แทน IP

Polygon Edge รองรับการใช้ชื่อโฮสต์ DNS สำหรับการกำหนดค่าโหนดนี่เป็นคุณสมบัติที่มีประโยชน์มากสำหรับการปรับใช้ในระบบคลาวด์ เนื่องจาก IP ของโหนดอาจเปลี่ยนได้ด้วยหลายสาเหตุ

รูปแบบ multiaddr ซึ่งใช้สำหรับสตริงการเชื่อมต่อในระหว่างการใช้ชื่อโฮสต์ DNS ตามที่ปรากฏไว้ดังต่อไปนี้:`/dns4/sample.hostname.com/tcp/<port>/p2p/nodeid`

:::

## ขั้นตอนที่ 3: สร้างไฟล์ genesis ที่มีโหนดจำนวน 4 โหนดเป็นตัวตรวจสอบความถูกต้อง {#step-3-generate-the-genesis-file-with-the-4-nodes-as-validators}

ทำขั้นตอนนี้ได้ในเครื่องของคุณ แต่คุณยังต้องใช้คีย์สาธารณะของตัวตรวจสอบความถูกต้องทั้ง 4 ตัว

ตัวตรวจสอบความถูกต้องต่างๆ สามารถแชร์ `Public key (address)` ตามที่แสดงไว้ด้านล่างได้อย่างปลอดภัยในเอาต์พุตของคำสั่ง `secrets init` ของตน เพื่อให้
คุณสามารถสร้าง genesis.json ได้อย่างปลอดภัยด้วยตัวตรวจสอบความถูกต้องในชุดตัวตรวจสอบความถูกต้องเริ่มต้นตามที่คีย์สาธารณะของตนระบุไว้:

```
[SECRETS INIT]
Public key (address) = 0xC12bB5d97A35c6919aC77C709d55F6aa60436900
BLS Public key       = 0x9952735ca14734955e114a62e4c26a90bce42b4627a393418372968fa36e73a0ef8db68bba11ea967ff883e429b3bfdf
Node ID              = 16Uiu2HAmVZnsqvTwuzC9Jd4iycpdnHdyVZJZTpVC8QuRSKmZdUrf
```

เมื่อคุณได้รับคีย์สาธารณะของตัวตรวจสอบความถูกต้องครบทั้ง 4 ตัวแล้ว คุณจะสามารถเรียกใช้คำสั่งดังต่อไปนี้เพื่อสร้าง `genesis.json`

````bash
polygon-edge genesis --consensus ibft --ibft-validator 0xC12bB5d97A35c6919aC77C709d55F6aa60436900:0x9952735ca14734955e114a62e4c26a90bce42b4627a393418372968fa36e73a0ef8db68bba11ea967ff883e429b3bfdf --ibft-validator <2nd validator IBFT public key>:<2nd validator BLS public key> --ibft-validator <3rd validator IBFT public key>:<3rd validator BLS public key> --ibft-validator <4th validator IBFT public key>:<4th validator BLS public key> --bootnode=<first_bootnode_multiaddr_connection_string_from_step_2> --bootnode <second_bootnode_multiaddr_connection_string_from_step_2> --bootnode <optionally_more_bootnodes>
````

สิ่งที่คำสั่งนี้ทำ:

* `--ibft-validator` กำหนดคีย์สาธารณะของตัวตรวจสอบความถูกต้อง ซึ่งจะรวมอยู่ในชุดตัวตรวจสอบความถูกต้องเริ่มต้นในบล็อก genesisอาจมีตัวตรวจสอบความถูกต้องเริ่มต้นเป็นจำนวนมากก็ได้
* `--bootnode`  กำหนดที่อยู่ของบูตโหนด ซึ่งจะทำให้โหนดสามารถค้นหากันเองได้เราจะใช้สตริง multiaddr ของ `node 1` ตามที่ระบุไว้ใน **ขั้น 2** แต่คุณสามารถเพิ่มบูตโหนดตามจำนวนที่คุณต้องการ ตามที่ระบุไว้ด้านบน

:::info สลับไปยัง ECDSA

BLS คือโหมดการตรวจสอบความถูกต้องเริ่มต้นของตัวต่อเนื่องของบล็อกหากคุณต้องการให้เชนของคุณทำงานในโหมด ECDSA คุณสามารถใช้`—ibft-validator-type`แฟล็ก ด้วยอาร์กิวเมนต์`ecdsa`:

```
genesis --ibft-validator-type ecdsa
```
:::

:::info บัญชียอดคงเหลือแบบ Premining

คุณอาจต้องการตั้งค่าเครือข่ายบล็อกเชนของคุณโดยให้ที่อยู่บางส่วนมียอดคงเหลือ "ที่วางไว้ล่วงหน้า"

ในการดำเนินการนี้ ให้ส่งผ่านค่าสถานะ `--premine` ต่างๆ ตามที่คุณต้องการไปยังแต่ละที่อยู่ที่คุณต้องการให้เริ่มต้นด้วยยอดคงเหลือที่กำหนดในบล็อกเชน

ตัวอย่างเช่น หากเราต้องการวาง 1000 ETH ไว้ล่วงหน้าให้กับที่อยู่ `0x3956E90e632AEbBF34DEB49b71c28A83Bc029862` ในบล็อก genesis ของเรา เราจึงต้องเสนออาร์กิวเมนต์ดังต่อไปนี้:

```
--premine=0x3956E90e632AEbBF34DEB49b71c28A83Bc029862:1000000000000000000000
```

**โปรดทราบว่าจำนวนที่วางไว้ล่วงหน้า มีหน่วยเป็น WEI ไม่ใช่ ETH**

:::

:::info กำหนดขีดจำกัดค่าแก๊สต่อบล็อก

ขีดจำกัดค่าแก๊สเริ่มต้นในแต่ละบล็อกอยู่ที่ `5242880`มีการเขียนค่านี้เขียนไว้ในไฟล์ genesis แต่คุณอาจต้องการเพิ่ม / ลดค่านั้น

เพื่อดำเนินการเช่นนั้น คุณสามารถใช้ค่าสถานะ `--block-gas-limit` ตามด้วยค่าที่จำเป็นต้องใช้ ตามที่ระบุไว้ด้านล่าง :

```shell
--block-gas-limit 1000000000
```

:::

:::info กำหนดขีดจำกัดของ File Descriptor ของระบบ

ขีดจำกัดตัวอธิบายของไฟล์ปริยาย (จำนวนสูงสุดของไฟล์ที่เปิด) สามารถใช้ได้ต่ำและบน Linux ทุกอย่างคือไฟล์หากคาดว่าจะมีโหนดที่มีแบบผ่านมาตรฐาน คุณสามารถพิจารณาเพิ่มขีดจำกัดนี้ได้ตรวจสอบเอกสารอย่างเป็นทางการของเลเวโดของคุณเพื่อหารายละเอียดเพิ่มเติม

#### ตรวจสอบขีดจำกัดปัจจุบันของระบบปฏิบัติการ (ไฟล์ที่เปิดอยู่) {#check-current-os-limits-open-files}
```shell title="ulimit -n"
1024 # Ubuntu default
```

#### เพิ่มขีดจำกัดสำหรับไฟล์ที่เปิดอยู่ {#increase-open-files-limit}
- วิ่ง`polygon-edge`บนหน้าผา (shel)
  ```shell title="Set FD limit for the current session"
  ulimit -n 65535 # affects only current session, limit won't persist after logging out
  ```

  ```shell title="Edit /etc/security/limits.conf"
  # add the following lines to the end of the file to modify FD limits
  *               soft    nofile          65535 # sets FD soft limit for all users
  *               hard    nofile          65535 # sets FD hard limit for all users

  # End of file
  ```
บันทึกไฟล์และรีสตาร์ทระบบด้วย

- การใช้งาน`polygon-edge`ในพื้นหลังเป็นบริการ

หาก`polygon-edge`ทำงานเป็นบริการระบบโดยใช้เครื่องมือเช่น ขีดจำกัดตัวอธิบาย`systemd`ไฟล์Nameควรมีการจัดการโดยใช้`systemd`ระบบ
  ```shell title="Edit /etc/systemd/system/polygon-edge.service"
  [Service]
   ...
  LimitNOFILE=65535
  ```

### การแก้ไขปัญหา {#troubleshooting}
```shell title="Watch FD limits of polygon edge running process"
watch -n 1 "ls /proc/$(pidof polygon-edge)/fd | wc -l"
```

```shell title="Check max FD limits for polygon-edge running process"
cat /proc/$(pidof polygon-edge)/limits
```
:::

หลังจากระบุ:
1. คีย์สาธารณะของตัวตรวจสอบความถูกต้องที่จะรวมไว้ในบล็อก genesis ในฐานะชุดตัวตรวจสอบความถูกต้อง
2. สตริงการเชื่อมต่อ multiaddr ของบูตโหนด
3. บัญชีและยอดคงเหลือที่วางไว้ล่วงหน้าที่จะรวมไว้ในบล็อก genesis

และสร้าง `genesis.json` คุณต้องคัดลอกสิ่งเหล้านั้นไปยัง VM ทั้งหมดในเครือข่ายขึ้นอยู่กับการกำหนดค่าของคุณ คุณสามารถคัดลอก/วาง ส่งไปยังตัวดำเนินการโหนด หรือใช้วิธีการ SCP/FTP

เนื้อหาเกี่ยวกับโครงสร้างของไฟล์ genesis อยู่ในส่วน[คำสั่ง CLI](/docs/edge/get-started/cli-commands)

## ขั้นตอนที่ 4: เรียกใช้ไคลเอ็นต์ทั้งหมด {#step-4-run-all-the-clients}

:::note การใช้เครือข่ายกับผู้ให้บริการคลาวด์

ผู้ให้บริการคลาวด์ส่วนใหญ่จะไม่แสดงที่อยู่ IP (โดยเฉพาะที่อยู่สาธารณะ) เป็นอินเทอร์เฟซของเครือข่ายโดยตรงใน VM ของคุณ แต่จะตั้งค่าพร็อกซี NAT ที่ไม่สามารถมองเห็นได้


เพื่อให้โหนดเชื่อมต่อซึ่งกันและกันในกรณีนี้ คุณจะต้องรอรับคำสั่งในที่อยู่ IP `0.0.0.0` เพื่อผูกกับอินเทอร์เฟซทั้งหมด แต่คุณยังคงต้องระบุที่อยู่ IP หรือที่อยู่ DNS ซึ่งโหนดอื่นๆ สามารถใช้เพื่อเชื่อมต่อกับอินสแตนซ์ของคุณได้คุณสามารถดำเนินการเช่นนั้นได้โดยใช้อาร์กิวเมนท์ `--nat` หรือ `--dns` ที่คุณสามารถระบุที่อยู่ IP หรือ DNS ภายนอกของคุณตามลำดับ

#### ตัวอย่าง {#example}

ที่อยู่ IP ที่เกี่ยวข้องที่คุณต้องรอรับคำสั่งคือ `192.0.2.1` ซึ่งไม่ได้ผูกกับอินเทอร์เฟซเครือข่ายต่างๆ ของคุณโดยตรงเลย

เพื่อให้โหนดเชื่อมต่อได้ คุณจะต้องส่งผ่านพารามิเตอร์ดังต่อไปนี้:

`polygon-edge ... --libp2p 0.0.0.0:10001 --nat 192.0.2.1`

หรือหากคุณต้องการระบุที่อยู่ DNS `dns/example.io` ให้ส่งผ่านพารามิเตอร์ดังต่อไปนี้:

`polygon-edge ... --libp2p 0.0.0.0:10001 --dns dns/example.io`

การดำเนินการเช่นนั้นจะทำให้โหนดของคุณรอรับคำสั่งในอินเทอร์เฟซทั้งหมด แต่ยังทำให้รู้ว่าไคลเอ็นต์กำลังเชื่อมต่อกับโหนดผ่านที่อยู่ `--dns` หรือ `--nat` ที่ระบุไว้

:::

ในการเรียกใช้ไคลเอ็นต์**แรก**:


````bash
node-1> polygon-edge server --data-dir ./data-dir --chain genesis.json  --libp2p 0.0.0.0:1478 --nat <public_or_private_ip> --seal
````

ในการเรียกใช้ไคลเอ็นต์**ที่สอง**:

````bash
node-2> polygon-edge server --data-dir ./data-dir --chain genesis.json --libp2p 0.0.0.0:1478 --nat <public_or_private_ip> --seal
````

ในการเรียกใช้ไคลเอ็นต์**ที่สาม**:

````bash
node-3> polygon-edge server --data-dir ./data-dir --chain genesis.json --libp2p 0.0.0.0:1478 --nat <public_or_private_ip> --seal
````

ในการเรียกใช้ไคลเอ็นต์**ที่สี่**:

````bash
node-4> polygon-edge server --data-dir ./data-dir --chain genesis.json --libp2p 0.0.0.0:1478 --nat <public_or_private_ip> --seal
````

หลังจากเรียกใช้คำสั่งก่อนหน้าหน้า คุณได้กำหนดเครือข่าย Polygon Edge ซึ่งประกอบด้วย 4 โหนด ที่สามารถซีลบล็อกและคืนค่าจากกรณีโหนดล้มเหลว

:::info เริ่มใช้ไคลเอ็นต์โดยใช้ไฟล์กำหนดค่า

แทนที่จะระบุพารามิเตอร์การกำหนดค่าทั้งหมดเป็นอาร์กิวเมนต์ CLI เรายังสามารถเริ่มต้นไคลเอ็นต์ผ่านการใช้ไฟล์กำหนดค่า โดยให้เรียกใช้คำสั่งดังต่อไปนี้:

````bash
polygon-edge server --config <config_file_path>
````
ตัวอย่าง :

````bash
polygon-edge server --config ./test/config-node1.json
````
ปัจจุบัน เรารองรับไฟล์การปรับแต่งแบบ`json`พื้นฐานเท่านั้น จึงสามารถพบแฟ้มปรับแต่งตัวอย่าง **[ได้ที่นี่](/docs/edge/configuration/sample-config)**

:::

:::info ขั้นตอนต่างๆ ในการเรียกใช้โหนดที่ไม่ใช่โหนดตัวตรวจสอบความถูกต้อง

โหนดที่ไม่ใช่โหนดตัวตรวจสอบความถูกต้องจะซิงค์บรรดาบล็อกล่าสุดที่ได้รับมาจากโหนดตัวตรวจสอบความถูกต้อง คุณสามารถเริ่มโหนดที่ไม่ใช่โหนดตัวตรวจสอบความถูกต้องโดยเรียกใช้คำสั่งดังต่อไปนี้

````bash
polygon-edge server --data-dir <directory_path> --chain <genesis_filename>  --libp2p <IPAddress:PortNo> --nat <public_or_private_ip>
````
ตัวอย่างเช่น คุณสามารถเพิ่มไคลเอ็นต์ที่ไม่ใช่ไคลเอ็นต์ตัวตรวจสอบความถูกต้องตัว**ที่ห้า**ได้ โดยการเรียกใช้คำสั่งดังต่อไปนี้ :

````bash
polygon-edge server --data-dir ./data-dir --chain genesis.json --libp2p 0.0.0.0:1478 --nat<public_or_private_ip>
````
:::

:::info กำหนดขีดจำกัดราคา
เริ่มต้นโหนด Polygon Edge ได้ด้วย**ขีดจำกัดราคา**ที่กำหนดค่าไว้สำหรับธุรกรรมที่เข้ามา

หน่วยที่ใช้สำหรับขีดจำกัดราคาคือ `wei`

การกำหนดขีดจำกัดราคาหมายความว่า ธุรกรรมใดๆ ที่ดำเนินการโดยโหนดปัจจุบันจะต้องมีราคาแก๊ส**สูงกว่า**ขีดจำกัดราคาที่กำหนดไว้ มิฉะนั้น จะไม่สามารถรวมลงในบล็อกได้

การที่โหนดส่วนใหญ่ยอมรับขีดจำกัดราคาที่กำหนดจะทำให้เกิดบังคับใช้กฎที่ระบุว่าธุรกรรมในเครือข่ายต้องไม่ต่ำกว่าขีดจำกัดราคาที่กำหนด

ค่าเริ่มต้นสำหรับขีดจำกัดราคาคือ `0` หมายความว่า ตามค่าเริ่มต้น จะไม่มีการบังคับใช้เลย

ตัวอย่างการใช้ค่าสถานะ `--price-limit`:
````bash
polygon-edge server --price-limit 100000 ...
````

โปรดจำไว้ว่า ขีดจำกัดราคาจะ**ได้รับการบังคับใช้กับธุรกรรมที่ไม่ใช่ธุรกรรมภายในเท่านั้น** หมายความว่าขีดจำกัดราคาจะไม่นำมาใช้กับธุรกรรมที่เพิ่มเป็นการภายในกับโหนด
:::

:::info WebSocket URL
ตามค่าเริ่มต้น เมื่อคุณเรียกใช้ Polygon Edge จะมีการสร้าง WebSocket URL โดยใช้ที่ตั้งของเชนเป็นหลักใช้โครงสร้าง URL `wss://` ใช้กับลิงก์ HTTPS และ `ws://` สำหรับ HTTP

Localhost WebSocket URL:
````bash
ws://localhost:10002/ws
````
โปรดจำไว้ว่าหมายเลขพอร์ตขึ้นอยู่กับพอร์ต JSON-RPC ที่คุณได้เลือกไว้สำหรับโหนดดังกล่าว

Edgenet WebSocket URL:
````bash
wss://rpc-edgenet.polygon.technology/ws
````
:::
