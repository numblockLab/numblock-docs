---
id: manage-private-keys
title: Управление приватными ключами
description: "Как управлять приватными ключами, и какие типы ключей существуют."
keywords:
  - docs
  - polygon
  - edge
  - private
  - key
  - keystore
---

## Обзор {#overview}

В Polygon Edge существуют два типа приватных ключей, которыми он непосредственно управляет:

* **Приватный ключ для механизма консенсуса**
* **Приватный ключ для сетевого взаимодействия в рамках libp2p**
* **(Необязательно) Приватный ключ BLS для механизма консенсуса, чтобы объединить подписи валидаторов**

В настоящее время Polygon Edge не предлагает поддержку прямого управления аккаунтом.

Основываясь на структуре директории, описанной в [Руководстве по резервному копированию и восстановлению](/docs/edge/working-with-node/backup-restore), Polygon Edge хранит эти упомянутые ключевые файлы в двух разных директориях — **консенсусе** и **хранилище ключей**.

## Формат ключа {#key-format}

Приватные ключи хранятся в простом **формате Base64**, поэтому они могут быть доступными для человеческого понимания и переносимыми.

```bash
# Example private key
0802122068a1bdb1c8af5333e58fe586bc0e9fc7aff882da82affb678aef5d9a2b9100c0
```

:::info Тип ключа
Все файлы с приватными ключами генерируются и используются в Polygon Edge полагаются на ECDSA с кривой [secp256k1](https://en.bitcoin.it/wiki/Secp256k1).

Поскольку кривая нестандартна, ее нельзя закодировать и хранить в любом стандартизированном формате PEM. Импорт ключей, не соответствующих этому типу ключей, не поддерживается.
:::
## Приватный ключ консенсуса {#consensus-private-key}

Файл с приватным ключом, известный как *приватный ключ консенсуса*, также называется **приватным ключом валидатора**. Приватный ключ используется в тех случаях, когда нод действует в качестве валидатора в сети и должен подписывать новые данные.

Файл с приватным ключом находится в `consensus/validator.key` и придерживается упомянутого [формата ключей](/docs/edge/configuration/manage-private-keys#key-format).

:::warning
Приватный ключ валидатора уникален для каждого узла проверки. Один и тот же ключ <b>не</b> должен использоваться всеми валидаторами, поскольку это может поставить под угрозу безопасность вашей цепочки.
:::

## Приватный ключ для сетевого взаимодействия {#networking-private-key}

Файл приватного ключа, необходимый для сетевого взаимодействия, используется libp2p для генерации соответствующего PeerID и позволяет ноду участвовать в сети.

Он расположен в `keystore/libp2p.key` и придерживается упомянутого [формата ключа](/docs/edge/configuration/manage-private-keys#key-format).

## Ключ секретного типа BLS {#bls-secret-key}

Файл секретного ключа BLS используется для объединения зафиксированных печатей на уровне консенсуса. Размер агрегированных совершенных печатей BLS меньше, чем выдаваемых подписей ECDSA.

Функция BLS является необязательной, и можно выбирать, использовать BLS или нет. Более подробную информацию смотрите в [BLS](/docs/edge/consensus/bls).

## Импорт/экспорт {#import-export}

Поскольку файлы с ключами хранятся в простой базе Base64 на диске, их можно легко резервировать или импортировать.

:::caution Изменение файлов с ключами
Любые изменения, внесенные в файлы с ключами в уже созданной/работающей сети, могут привести к серьезным сбоям в работе сети/консенсуса, поскольку механизмы консенсуса и обнаружения пиров хранят данные, полученные из этих ключей, в специальных хранилищах нодов и полагаются на эти данные для установления соединений и выполнения логики консенсуса
:::