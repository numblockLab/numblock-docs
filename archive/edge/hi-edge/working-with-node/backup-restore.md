---
id: backup-restore
title: नोड इंस्टैंस को बैकअप/रिस्टोर करें
description: "पॉलीगॉन एज नोड के इंस्टैंस को कैसे बैकअप और रिस्टोर करें."
keywords:
  - docs
  - polygon
  - edge
  - instance
  - restore
  - directory
  - node
---

## ओवरव्यू {#overview}

यह गाइड पॉलीगॉन एज के नोड इंसटैंस को कैसे बैकअप और रिस्टोर करें के बारे में विस्तार से बताती है.
यह बेस फ़ोल्डर्स और उनमें क्या शामिल है, इसके साथ ही सफल बैकअप और रिस्टोर करने के लिए कौन सी फ़ाइलें महत्वपूर्ण हैं के बारे में भी बताता है.

## बेस फ़ोल्डर्स {#base-folders}

पॉलीगॉन एज LevelDB को अपने स्टोरेज इंजन के रूप में इस्तेमाल करता है.
पॉलीगॉन एज नोड को शुरू करते समय, निम्नलिखित सब-फ़ोल्डर्स को निर्दिष्ट कार्यकारी डायरेक्टरी में बनाया जाता है:
* **ब्लॉकचेन**, - ब्लॉकचेन के डेटा को स्टोर करता है
* **trie** - Merkle tries को स्टोर करता है (वर्ल्ड स्टेट डेटा)
* **कीस्टोर** - क्लाइंट के लिए निजी की को स्टोर करता है. इसमें libp2p की निजी की और सीलिंग / वैलिडेटर की निजी की भी शामिल होती है
* **सहमति**, - सहमति की किसी भी जानकारी को स्टोर करता है जिसकी काम करते समय क्लाइंट को ज़रूरत हो सकती है. अभी, यह नोड की  *निजी वैलिडेटर की* को स्टोर करता है

पॉलीगॉन एज के इंस्टैंस को सुचारू रूप से रन कराने के लिए इन फ़ोल्डर्स को संरक्षित किया जाना महत्वपूर्ण है.

## रन कर रहे नोड से बैकअप बनाएँ और नए नोड के लिए रिस्टोर करें {#create-backup-from-a-running-node-and-restore-for-new-node}

यह सेक्शन आपको रन कर रहे नोड में ब्लॉकचेन के आर्काइव डेटा को बनाने और दूसरे इंस्टैंस में रिस्टोर करने के लिए गाइड करता है.

### बैकअप {#backup}

`backup` कमांड, रन कर रहे नोड से ब्लॉक को gRPC द्वारा निकालता है और एक आर्काइव फ़ाइल को जनरेट करता है. अगर `--from`और `--to` कमांड में नहीं दिए गए हों तो यह कमांड जेनेसिस से लेटेस्ट ब्लॉक निकाल लेगा.

```bash
$ polygon-edge backup --grpc-address 127.0.0.1:9632 --out backup.dat [--from 0x0] [--to 0x100]
```

### रिस्टोर {#restore}

`--restore` फ्लैग के साथ शुरू होते समय एक सर्वर ब्लॉक्स को आर्काइव से इम्पोर्ट करता है. कृपया सुनिश्चित करें कि नए नोड के लिए एक की हो. कीज़ को इम्पोर्ट करने या जनरेट करने के बारे में अधिक जानने के लिए, [सीक्रेट्स मैनेजर सेक्शन](/docs/edge/configuration/secret-managers/set-up-aws-ssm) को विज़िट करें.

```bash
$ polygon-edge server --restore archive.dat
```

## पूरे डेटा को बैकअप/रिस्टोर करें {#back-up-restore-whole-data}

यह सेक्शन आपको स्टेट और की के डेटा को बैकअप करने और नए इंस्टैंस में रिस्टोर करने के लिए गाइड करता है.

### स्टेप 1: रन कर रहे क्लाइंट को रोकें {#step-1-stop-the-running-client}

चूँकि, पॉलीगॉन एज डेटा को स्टोर करने के लिए **LevelDB** को इस्तेमाल करता है, इसलिए बैकअप के दौरान नोड को रोकना ज़रूरी है,
क्योंकि **LevelDB** अपने डाटाबेस की फ़ाइलों तक कॉन्करंट एक्सेस की अनुमति नहीं देता है.

इसके अलावा पॉलीगॉन एज बंद होने पर डेटा फ्लशिंग भी करता है.

पहले स्टेप में क्लाइंट को रन करने से रोकना शामिल है (या तो सर्विस मैनेजर द्वारा या किसी दूसरे मैकेनिज्म के माध्यम से, जो प्रक्रिया को SIGINT सिग्नल भेजता है),
तो यह अच्छी तरह से बंद होते समय 2 इवेंट को ट्रिगर कर सकता है:
* डिस्क में डेटा फ्लश को रन कर रहा है
* LevelDB द्वारा DB फ़ाइलों का लॉक रिलीज़ करना

### स्टेप 2: डायरेक्टरी का बैकअप {#step-2-backup-the-directory}

अब जबकि क्लाइंट रन नहीं कर रहा है, डेटा की डायरेक्टरी को दूसरे माध्यम में बैकअप किया जा सकता है.
ध्यान रखें कि `.key` एक्सटेंशन वाली फ़ाइलों में निजी की डेटा होता है जिसे वर्तमान नोड को प्रतिरूपित करने के लिए इस्तेमाल किया जा सकता है,
और उन्हें कभी तीसरे/अनजान पक्ष के साथ साझा नहीं किया जाना चाहिए.

:::info
कृपया, जनरेट की गई `genesis` फ़ाइल का मैन्युअल रूप से बैकअप और रिस्टोर करें ताकि रिस्टोर किया गया नोड पूरी तरह से काम करे.

:::

## रिस्टोर {#restore-1}

### स्टेप 1: रन कर रहे क्लाइंट को रोकें {#step-1-stop-the-running-client-1}

अगर पॉलीगॉन एज का कोई भी इंस्टैंस रन हो रहा है, तो इसे स्टेप 2 को सफल बनाने के लिए रोका जाना चाहिए.

### स्टेप 2: बैकअप किए गए डेटा की डायरेक्टरी को वांछित फ़ोल्डर में कॉपी करें {#step-2-copy-the-backed-up-data-directory-to-the-desired-folder}

एक बार जब क्लाइंट रन नहीं कर रहा होता है, जिस डेटा डायरेक्टरी को पहले से बैकअप किया गया था, उसे वांछित फ़ोल्डर में कॉपी किया जा सकता है.
इसके अलावा, पहले से कॉपी की गई `genesis` फ़ाइल को रिस्टोर कर सकते हैं.

### स्टेप 3: डेटा की सही डायरेक्टरी को निर्दिष्ट करते समय पॉलीगॉन एज के क्लाइंट को रन करें {#step-3-run-the-polygon-edge-client-while-specifying-the-correct-data-directory}

पॉलीगॉन एज के लिए रिस्टोर की गई डेटा डायरेक्टरी को इस्तेमाल करने के लिए इसके लॉन्च होने पर यूज़र को इसके पाथ को निर्दिष्ट करने की ज़रूरत है
डेटा डायरेक्टरी. कृपया `data-dir`फ्लैग के बारे जानकारी पाने के लिए, [CLI कमांड्स](/docs/edge/get-started/cli-commands) सेक्शन से परामर्श करें.
