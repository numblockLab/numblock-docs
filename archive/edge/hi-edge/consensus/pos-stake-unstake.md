---
id: pos-stake-unstake
title: भागीदारी का सबूत (पॉस) का सेट अप और इस्तेमाल
description: "स्टेक, अनस्टेक और स्टेकिंग से संबंधित अन्य निर्देश।"
keywords:
  - docs
  - polygon
  - edge
  - stake
  - unstake
  - validator
  - epoch
---

## ओवरव्यू {#overview}

यह गाइड विस्तार से बताता है कि पॉलीगॉन एज के साथ किसी भागीदारी के सबूत नेटवर्क का कैसे सेट अप किया जाए, वैलिडेटर बनने के लिए नोड के लिए
कैसे फ़ंड को स्टेक किया जाए और फ़ंड को कैसे अनस्टेक किया जाए।

यह पढ़ने और के माध्यम से जाने के लिए **अत्यधिक प्रोत्साहित** किया जाता है [लोकल सेटअप](/docs/edge/get-started/set-up-ibft-locally)
/ [क्लाउड सेटअप](/docs/edge/get-started/set-up-ibft-on-the-cloud)
सेक्शन। ये सेक्शन पॉलीगॉन एज के साथ ऑथोरिटी के सबूत (PoA) क्लस्टर को शुरू करने के लिए ज़रूरी स्टेप्स की
रूप-रेखा बताता है।

फ़िलहाल, वैसे वैलिडेटरों की संख्या पर कोई पाबंदी नहीं है जो स्टेकिंग स्मार्ट कॉन्ट्रैक्ट पर फ़ंड स्टेक कर सकते हैं।

## स्टेकिंग स्मार्ट कॉन्ट्रैक्ट {#staking-smart-contract}

स्टेकिंग स्मार्ट कॉन्ट्रैक्ट के लिए रेपो [यहां](https://github.com/0xPolygon/staking-contracts) है।

यह ज़रूरी टेस्टिंग स्क्रिप्ट, ABI फ़ाइल और सबसे ज़रूरी खुद स्टेकिंग स्मार्ट कॉन्ट्रैक्ट को रखता है।

## एक N नोड क्लस्टर सेट अप करना {#setting-up-an-n-node-cluster}

पॉलीगॉन एज के साथ एक नेटवर्क सेट अप करना इसमें कवर किया गया है
[लोकल सेटअप](/docs/edge/get-started/set-up-ibft-locally)
/ [कलाउड सेटअप](/docs/edge/get-started/set-up-ibft-on-the-cloud) सेक्शन।

किसी पॉस और PoA क्लस्टर को सेट अप करने के बीच **एकमात्र अंतर** जेनेसिस जनरेशन वाले हिस्से में है।

**पॉस क्लस्टर के लिए जेनेसिस फ़ाइल जनरेट करते समय एक अतिरिक्त फ़्लैग की ज़रूरत पड़ती है `--pos`**:

```bash
polygon-edge genesis --pos ...
```

## किसी एपॉक की अवधि सेट करना {#setting-the-length-of-an-epoch}

एपॉक के बारे में [एपॉक ब्लॉक्स](/docs/edge/consensus/pos-concepts#epoch-blocks) सेक्शन में विस्तार से बताया गया है।

किसी क्लस्टर (ब्लॉक में) के लिए एक एपॉक की साइज़ तय करने के लिए, जेनेसिस फ़ाइल जनरेट करते समय, एक अतिरिक्त फ़्लैग
निर्दिष्ट किया जाता है`--epoch-size`:

```bash
polygon-edge genesis --epoch-size 50
```

जेनेसिस फ़ाइल में यह वैल्यू निर्दिष्ट करता है कि एपॉक साइज़ `50` ब्लॉक होना चाहिए।

किसी एपॉक (ब्लॉक में) के साइज़ के लिए डिफ़ॉल्ट वैल्यू `100000` है।

:::info एपॉक की अवधि कम करना

जैसे कि [एपॉक ब्लॉक्स](/docs/edge/consensus/pos-concepts#epoch-blocks) सेक्शन में बताया गया है,
एपॉक ब्लॉक्स का इस्तेमाल नोड के लिए वैलिडेटर सेट को अपडेट करने के लिए होता है।

ब्लॉक (`100000`) में एपॉक की डिफ़ॉल्ट अवधि वलिडेटर सेट के अपडेट्स के लिए लंबे समय तक बनी रह सकती है। यह मानते हुए कि नए
ब्लॉक जोड़े गए हैं ~2 सेकंड, वैलिडेटर सेट को बदलने में हो सकता है कि ~55.5 घंटे लगें।

एपॉक की अवधि के लिए कम वैल्यू सेट करने से यह सुनिश्चित होता है कि वैलिडेटर सेट ज़ल्दी-ज़ल्दी अपडेट होता है।

:::

## स्टेकिंग स्मार्ट कॉन्ट्रैक्ट स्क्रिप्ट का इस्तेमाल करना {#using-the-staking-smart-contract-scripts}

### आवश्यक शर्तें {#prerequisites}

स्टेकिंग स्मार्ट कॉन्ट्रैक्ट रेपो एक हार्डहैट प्रोजेक्ट है, जिसके npm की जरूरत पड़ती है।

इसे सही तरीके से शुरू करने के लिए, मुख्य डाइरेक्ट्री में इसे रन करें:

```bash
npm install
````

### मुहैया किए गए हेल्पर स्क्रिप्ट का सेट अप करना {#setting-up-the-provided-helper-scripts}

डिप्लॉय किए गए स्टेकिंग स्मार्ट कॉन्ट्रैक्ट के साथ इंटरैक्ट करने के लिए स्क्रिप्ट
[स्टेकिंग स्मार्ट कॉन्ट्रैक्ट रेपो](https://github.com/0xPolygon/staking-contracts) पर मौजूद हैं।

स्मार्ट कॉन्ट्रैक्स्ट्स रेपो लोकेशन में नीचे दिए गए पैरामीटर के साथ एक `.env`फ़ाइल बनाएं:

```bash
JSONRPC_URL=http://localhost:10002
PRIVATE_KEYS=0x0454f3ec51e7d6971fc345998bb2ba483a8d9d30d46ad890434e6f88ecb97544
STAKING_CONTRACT_ADDRESS=0x0000000000000000000000000000000000001001
BLS_PUBLIC_KEY=0xa..
```

जहाँ पैरामीटर हैं:

* **JSONRPC_URL** - रन हो रहे नोड के लिए JSON-RPC एंडपॉइंट
* **PRIVATE_KEYS** स्टेकर एड्रेस का निजी की।
* **STAKING_CONTRACT_ADDRESS** - स्टेकिंग स्मार्ट कॉन्ट्रैक्ट का एड्रेस
(डिफ़ॉल्ट`0x0000000000000000000000000000000000001001`)
* **BLS_PUBLIC_KEY** - स्टेकर का BLS सार्वजनिक की। केवल तभी ज़रूरत पड़ती है जब नेटवर्क BLS के साथ रन कर रहा हो

### स्टेकिंग फ़ंड {#staking-funds}

:::info स्टेकिंग एड्रेस
स्टेकिंग स्मार्ट कॉन्ट्रैक्ट एड्रेस पर पहले से डिप्लॉय
किया रहता है `0x0000000000000000000000000000000000001001`।

स्टेकिंग मैकेनिज्म के साथ किसी भी तरह का इंटरैक्शन स्पष्ट रूप से बताए गए एड्रेस में स्टेकिंग स्मार्ट कॉन्ट्रैक्ट के ज़रिए किया जाता है।

स्टेकिंग स्मार्ट कॉन्ट्रैक्ट के बारे में और जानने के लिए कृपया
**[स्टेकिंग स्मार्ट कॉन्ट्रैक्ट](/docs/edge/consensus/pos-concepts#contract-pre-deployment)** सेक्शन में जाएँ।

:::

वैलिडेटर सेट का हिस्सा बनने के लिए, किसी एड्रेस को सीमा से ऊपर जाकर एक खास अमाउंट के फ़ंड को स्टेक करना होगा।

फ़िलहाल, वैलिडेटर सेट का हिस्सा बनने के लिए डिफ़ॉल्ट सीमा `1 ETH` है।

स्टेकिंग स्मार्ट कॉन्ट्रैक्ट के `stake`तरीके को कॉल करके और किसी वैल्यू को निर्दिष्ट करके स्टेकिंग शुरू किया जा सकता है`>= 1 ETH`।

पिछले सेक्शन में जिक्र किए गए `.env` फ़ाइल का
[सेटअप](/docs/edge/consensus/pos-stake-unstake#setting-up-the-provided-helper-scripts) करने और
पॉस मोड में एक चेन शुरू करने के बाद, स्टेकिंग स्मार्ट कॉन्ट्रैक्ट रेपो में नीचे दिए गए कमांड से स्टेकिंग की जा सकती है:

```bash
npm run stake
```

`stake` हार्डहैट स्क्रिप्ट `1 ETH` का डिफ़ॉल्ट अमाउंट स्टेक करता है, जिसे `scripts/stake.ts` फ़ाइल को बदल कर बदला जा
सकता है।

अगर स्टेक किए जा रहे फ़ंड `>= 1 ETH` हैं, तो स्टेकिंग स्मार्ट कॉन्ट्रैक्ट पर वैलिडेटर सेट अपडेट किया जाता है और एड्रेस
अगले एपॉक से शुरू हो रहे वैलिडेटर सेट का एक हिस्सा होगा।

:::info BLS की रजिस्टर करना

अगर नेटवर्क BLS मोड में रन हो रहा हो, तो नोड के वैलिडेटर बनने के लिए उन्हें स्टेकिंग के बाद अपने BLS सार्वजनिक की को रजिस्टर करना होगा

इसे नीचे दिए गए कमांड से किया जा सकता है:

```bash
npm run register-blskey
```
:::

### अनस्टेकिंग फ़ंड {#unstaking-funds}

वैसे एड्रेस जिनमें कोई स्टेक होता है, केवल वे ही एक बार में **अपने सभी फ़ंड को अनस्टेक** कर सकते हैं।

पिछले सेक्शन में जिक्र किए गए `.env` फ़ाइल का
[सेट अप करने](/docs/edge/consensus/pos-stake-unstake#setting-up-the-provided-helper-scripts) और
पॉस मोड में एक चेन शुरू करने के बाद, स्टेकिंग स्मार्ट कॉन्ट्रैक्ट रेपो में नीचे दिए गए कमांड से अनस्टेकिंग
की जा सकती है:

```bash
npm run unstake
```

### स्टेकर्स की लिस्ट लाना {#fetching-the-list-of-stakers}

फ़ंड को स्टेक करने वाले सभी एड्रेस स्टेकिंग स्मार्ट कॉन्ट्रैक्ट में सेव किए जाते हैं।

पिछले सेक्शन में जिक्र किए गए  `.env`फ़ाइल का
[सेट अप करने](/docs/edge/consensus/pos-stake-unstake#setting-up-the-provided-helper-scripts) और
पॉस मोड में एक चेन शुरू करने के बाद, स्टेकिंग स्मार्ट कॉन्ट्रैक्ट रेपो में नीचे दिए गए कमांड से
वैलिडेटरों की लिस्ट लाई जा सकती है:

```bash
npm run info
```
