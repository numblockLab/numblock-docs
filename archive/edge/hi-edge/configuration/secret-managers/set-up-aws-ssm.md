---
id: set-up-aws-ssm
title: AWS SSM (सिस्टम मैनेजर) सेटअप करें
description: "पॉलीगॉन एज के लिए AWS SSM (सिस्टम मैनेजर) सेटअप करें."
keywords:
  - docs
  - polygon
  - edge
  - aws
  - ssm
  - secrets
  - manager
---

## ओवरव्यू {#overview}

मौजूदा समय में, पॉलीगॉन एज का संबंध 2 प्रमुख रनटाइम सीक्रेट्स को रखने से है:
* **वैलिडेटर की निजी की नोड** द्वारा इस्तेमाल की जाती है, अगर नोड एक वैलिडेटर है तो
* अन्य पीअर्स के साथ हिस्सा लेने और कम्युनिकेशन करने के लिए, libp2p द्वारा इस्तेमाल की जाने वाली **नेटवर्किंग निजी की**

अतिरिक्त जानकारी के लिए, कृपया [मैनेजिंग निजी की गाइड](/docs/edge/configuration/manage-private-keys) पढ़ें

पॉलीगॉन एज के मॉड्यूल **को यह जानने की ज़रूरत नहीं होनी चाहिए कि सीक्रेट्स कैसे रखे जाते** हैं. आखिरकार, एक मॉड्यूल को परवाह नहीं करनी चाहिए कि एक दूर के सर्वर पर या स्थानीय रूप से नोड की डिस्क पर कोई सीक्रेट्स स्टोर है या नहीं.

सीक्रेट रखने के बारे में एक मॉड्यूल को जो कुछ जानने की ज़रूरत है, वह **सीक्रेट का इस्तेमाल करना जानना** है,**, यह जानना कि कौन से सीक्रेट
प्राप्त या सेव** करने हैं. इन ऑपरेशन के बेहतर कार्यान्वयन विवरण को को डेलिगेट किया गया है,`SecretsManager` जो निश्चित रूप से एक एब्स्ट्रेक्शन है.

पॉलीगॉन एज शुरू करने वाला नोड ऑपरेटर अब निर्दिष्ट कर सकता है कि वे किस सीक्रेट मैनेजर का इस्तेमाल करना चाहते हैं, और जैसे ही सही सीक्रेट मैनेजर शुरू हो जाता है, मॉड्यूल उल्लिखित इंटरफ़ेस के माध्यम से सीक्रेट्स से निपटते हैं, भले ही सीक्रेट डिस्क पर स्टोर हों या एक सर्वर पर.

यह लेख, पॉलीगॉन एज को ऊपर लाने और [AWS सिस्टम मैनेजर पैरामीटर स्टोर के साथ रन करने के लिए ज़रूरी स्टेप का विवरण](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html) देता है.

:::info पिछली गाइड

**यह सख़्त सुझाव दिया ज**ाता है कि इस लेख को पढ़ने से पहले, स्[**थानीय सेटअप और**](/docs/edge/get-started/set-up-ibft-locally) [**क्लाउड सेटअप**](/docs/edge/get-started/set-up-ibft-on-the-cloud) पर लेख पढ़े जाएँ.

:::


## आवश्यक शर्तें {#prerequisites}
### IAM पॉलिसी {#iam-policy}
यूज़र को एक IAM पॉलिसी बनाने की जरूरत है जो AWS सिस्टम मैनेजर पैरामीटर स्टोर के लिए रीड/राइट ऑपरेशन की अनुमति देता है. सफलतापूर्वक IAM पॉलिसी बनाने के बाद, यूज़र को उसे पॉलीगॉन एज सर्वर को रन करने वाले EC2 इंस्टैंस में संलग्न करने की जरूरत है. IAM पॉलिसी कुछ इस तरह दिखनी चाहिए:
```json
{
  "Version": "2012-10-17",
  "Statement" : [
    {
      "Effect" : "Allow",
      "Action" : [
        "ssm:PutParameter",
        "ssm:DeleteParameter",
        "ssm:GetParameter"
      ],
      "Resource" : [
        "arn:aws:ssm:<aws_region>:<aws_account_id>:parameter<ssm-parameter-path>*"
      ]
    }
  ]
}
```
AWS SSM IAM भूमिकाओं के बारे में अधिक जानकारी [AWS डॉक्यूमेंट](https://docs.aws.amazon.com/systems-manager/latest/userguide/setup-instance-profile.html) में मिल सकती है.

जारी रखने से पहले आवश्यक जानकारी:
* **क्षेत्र** (वह क्षेत्र जिसमें सिस्टम मैनेजर और नोड्स होते हैं)
* **पैरामीटर पाथ** (आर्बिट्रेरी पाथ जिसमें सीक्रेट को रखा जाएगा, उदाहरण के लिए`/polygon-edge/nodes`)

## स्टेप 1 - सीक्रेट्स मैनेजर कॉन्फ़िगरेशन जनरेट करें {#step-1-generate-the-secrets-manager-configuration}

पॉलीगॉन एज को AWS SSM के साथ निर्बाध रूप से संचार करने में सक्षम होने के लिए, पहले से जनरेटेड कॉन्फिग फ़ाइल को पार्स करने की जरूरत है, जिसमें AWS SSM पर सीक्रेट स्टोरेज के लिए सभी आवश्यक जानकारी होती है.

कॉन्फ़िगरेशन जनरेट करने के लिए, नीचे दिया कमांड रन करें:

```bash
polygon-edge secrets generate --type aws-ssm --dir <PATH> --name <NODE_NAME> --extra region=<REGION>,ssm-parameter-path=<SSM_PARAM_PATH>
```

मौजूद पैरामीटर:
* `PATH` वह पाथ है जिस पर कॉन्फ़िगरेशन फ़ाइल एक्स्पोर्ट की जानी चाहिए. डिफ़ॉल्ट `./secretsManagerConfig.json`
* `NODE_NAME`वर्तमान नोड का नाम है जिसके लिए AWS SSM कॉन्फ़िगरेशन को सेटअप किया जा रहा है. यह एक मनमानी वैल्यू हो सकती है. डिफ़ॉल्ट `polygon-edge-node`
* `REGION`वह क्षेत्र है जिसमें AWS SSM रहता है. यह वही क्षेत्र होना चाहिए जो AWS SSM का इस्तेमाल करने वाले नोड का है.
* `SSM_PARAM_PATH`उस पाथ का नाम है जिसे सीक्रेट को स्टोर किया जाएगा. उदाहरण के लिए अगर `--name node1`और `ssm-parameter-path=/polygon-edge/nodes`निर्दिष्ट किए गए हैं, तो सीक्रेट को `/polygon-edge/nodes/node1/<secret_name>`के रूप में स्टोर किया जाएगा

:::caution नोड के नाम
नोड के नाम निर्दिष्ट करते समय सावधान रहें.

पॉलीगॉन एज, निर्दिष्ट नोड नाम का इस्तेमाल, उन सीक्रेट्स को ट्रैक करने के लिए करता है जिसे यह AWS SSM पर जनरेट और इस्तेमाल करता है. पहले से मौजूद नोड नाम को निर्दिष्ट करने पर AWS SSM में सीक्रेट लिखने में विफलता का सामना करना पड़ सकता है.

सीक्रेट्स नीचे दिए गए बेस पाथ पर स्टोर किए गए हैं`SSM_PARAM_PATH/NODE_NAME`:

:::

## स्टेप 2 - कॉन्फ़िगरेशन का इस्तेमाल करके सीक्रेट की शुरू करें {#step-2-initialize-secret-keys-using-the-configuration}

अब जबकि कॉन्फ़िगरेशन फ़ाइल मौजूद है, हम  का इस्तेमाल करके स्टेप 1 में कॉन्फ़िगरेशन फ़ाइल के साथ आवश्यक सीक्रेट की को शुरू कर सकते हैं`--config`:

```bash
polygon-edge secrets init --config <PATH>
```

 `PATH`परम स्टेप 1 से पहले जनरेट किए गए सीक्रेट्स मैनेजर परम की लोकेशन है.

:::info IAM पॉलिसी
स्टेप विफल हो जाएगा अगर रीड/राइट ऑपरेशन की अनुमति देने वाली IAM पॉलिसी, सही ढंग से कॉन्फ़िगर नहीं होती है और / या इस कमांड को रन करने वाले EC2 इंस्टैंस से संलग्न नहीं है.
:::

## स्टेप 3 - जेनेसिस फ़ाइल जनरेट करें {#step-3-generate-the-genesis-file}

जेनेसिस फ़ाइल [**को स्थानीय सेटअप**](/docs/edge/get-started/set-up-ibft-locally)
और [**क्लाउड सेटअप**](/docs/edge/get-started/set-up-ibft-on-the-cloud), मामूली बदलावों के साथ गाइड करता है.

चूँकि स्थानीय फ़ाइल सिस्टम के बजाय AWS SSM का इस्तेमाल किया जा रहा है, इसलिए वैलिडेटर पते को `--ibft-validator`फ़्लैग के माध्यम से जोड़ा जाना चाहिए:
```bash
polygon-edge genesis --ibft-validator <VALIDATOR_ADDRESS> ...
```

## स्टेप 4 - पॉलीगॉन एज क्लाइंट शुरू करें {#step-4-start-the-polygon-edge-client}

अब जब की सेट अप हो गई हैं, और जेनेसिस फ़ाइल जनरेट हो गई है, तो इस प्रक्रिया का आखिरी स्टेप पॉलीगॉन एज को क`server`मांड के साथ शुरू करना होगा.

 `server`कमांड का इस्तेमाल उसी तरीके से किया जाता है जैसे कि पहले बताए गई गाइडों में, मामूली जोड़ के साथ - फ़्लैग`--secrets-config`:
```bash
polygon-edge server --secrets-config <PATH> ...
```

 `PATH`परम स्टेप 1 से पहले जनरेट किए गए सीक्रेट्स मैनेजर परम की लोकेशन है.