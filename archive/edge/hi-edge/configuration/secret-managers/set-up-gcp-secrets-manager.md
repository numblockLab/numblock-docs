---
id: set-up-gcp-secrets-manager
title: GCP सीक्रेट मैनेजर सेट अप करें
description: "पॉलीगॉन एज के लिए GCP सीक्रेट मैनेजर सेट अप करें."
keywords:
  - docs
  - polygon
  - edge
  - gcp
  - secrets
  - manager
---

## ओवरव्यू {#overview}

मौजूदा समय में, पॉलीगॉन एज का संबंध 2 प्रमुख रनटाइम सीक्रेट्स को रखने से है:
* **वैलिडेटर की निजी की नोड** द्वारा इस्तेमाल की जाती है, अगर नोड एक वैलिडेटर है तो
* अन्य पीअर्स के साथ हिस्सा लेने और कम्युनिकेशन करने के लिए, libp2p द्वारा इस्तेमाल की जाने वाली **नेटवर्किंग निजी की**

अतिरिक्त जानकारी के लिए, कृपया [मैनेजिंग निजी की गाइड](/docs/edge/configuration/manage-private-keys) पढ़ें

पॉलीगॉन एज के मॉड्यूल **को यह जानने की ज़रूरत नहीं होनी चाहिए कि सीक्रेट्स कैसे रखे जाते** हैं. आखिरकार, एक मॉड्यूल को परवाह नहीं करनी चाहिए कि एक दूर के सर्वर पर या स्थानीय रूप से नोड की डिस्क पर कोई सीक्रेट्स स्टोर है या नहीं.

सीक्रेट रखने के बारे में एक मॉड्यूल को जो कुछ जानने की ज़रूरत है, वह **सीक्रेट का इस्तेमाल करना जानना** है,**, यह जानना कि कौन से सीक्रेट
प्राप्त या सेव** करने हैं. इन ऑपरेशन के बेहतर कार्यान्वयन विवरण को को डेलिगेट किया गया है,`SecretsManager` जो निश्चित रूप से एक एब्स्ट्रेक्शन है.

पॉलीगॉन एज शुरू करने वाला नोड ऑपरेटर अब निर्दिष्ट कर सकता है कि वे किस सीक्रेट मैनेजर का इस्तेमाल करना चाहते हैं, और जैसे ही सही सीक्रेट मैनेजर शुरू हो जाता है, मॉड्यूल उल्लिखित इंटरफ़ेस के माध्यम से सीक्रेट्स से निपटते हैं, भले ही सीक्रेट डिस्क पर स्टोर हों या एक सर्वर पर.

यह लेख पॉलीगॉन एज को ऊपर लाने और [GCP सीक्रेट मैनेजर](https://cloud.google.com/secret-manager) के साथ रन करने के लिए ज़रूरी स्टेप का विवरण देता है.

:::info पिछली गाइड

**यह सख़्त सुझाव दिया ज**ाता है कि इस लेख को पढ़ने से पहले, स्[**थानीय सेटअप और**](/docs/edge/get-started/set-up-ibft-locally) [**क्लाउड सेटअप**](/docs/edge/get-started/set-up-ibft-on-the-cloud) पर लेख पढ़े जाएँ.

:::


## आवश्यक शर्तें {#prerequisites}
### GCP बिलिंग अकाउंट {#gcp-billing-account}
GCP सीक्रेट्स मैनेजर का इस्तेमाल करने के लिए, यूज़र के पास GCP पोर्टल पर [बिलिंग अकाउंट](https://console.cloud.google.com/) सक्षम होना चाहिए.
फ़्री ट्रायल के बादशाह के रूप में, GCP प्लेटफ़ॉर्म पर नए Google अकाउंट को चालू करने के लिए कुछ फ़ंड दिए जाते है. [GCP डॉक्यूमेंट](https://cloud.google.com/free) की जानकारी अधिक

### सीक्रेट्स मैनेजर API {#secrets-manager-api}
यूज़र को GCP सीक्रेट मैनेजर API का इस्तेमाल करने से पहले उसे सक्षम करना होगा.
ऐसा [सीक्रेट्स मैनेजर API पोर्टल](https://console.cloud.google.com/apis/library/secretmanager.googleapis.com) के ज़रिए किया जा सकता है.
अधिक जानकारी: [सीक्रेट मैनेजर कॉन्फ़िगर करना](https://cloud.google.com/secret-manager/docs/configuring-secret-manager)

### GCP क्रेडेंशियल्स {#gcp-credentials}
अंत में, यूज़र को प्रमाणीकरण के लिए इस्तेमाल किए जाने वाले नए क्रेडेंशियल्स जनरेट करने की ज़रूरत होती है. [यहाँ ](https://cloud.google.com/secret-manager/docs/reference/libraries)पोस्ट किए गए निर्देशों का पालन करके ऐसा किया जा सकता है.   
जनरेट की गई json फ़ाइल जिसमें क्रेडेंशियल्स हैं, को हर एक नोड में ट्रांसफ़र किया जाना चाहिए जिसे GCP सीक्रेट मैनेजर का इस्तेमाल करने की आवश्यकता है.

जारी रखने से पहले आवश्यक जानकारी:
* **प्रोजेक्ट ID** (प्रोजेक्ट को GCP प्लेटफ़ॉर्म पर परिभाषित किया गया है)
* **क्रेडेंशियल फ़ाइल लोकेशन** (क्रेडेंशियल युक्त json फ़ाइल का पाथ)

## स्टेप 1 - सीक्रेट्स मैनेजर कॉन्फ़िगरेशन जनरेट करें {#step-1-generate-the-secrets-manager-configuration}

पॉलीगॉन एज GCP SM के साथ निर्बाध रूप से संचार करने में सक्षम होने के लिए, इसे पहले से जेनरेट की गई कॉन्फ़िगरेशन फ़ाइल को पार्स करने की आवश्यकता है, जिसमें GCP SM पर सीक्रेट स्टोरेज के लिए सभी आवश्यक जानकारी शामिल है.

कॉन्फ़िगरेशन जनरेट करने के लिए, नीचे दिया कमांड रन करें:

```bash
polygon-edge secrets generate --type gcp-ssm --dir <PATH> --name <NODE_NAME> --extra project-id=<PROJECT_ID>,gcp-ssm-cred=<GCP_CREDS_FILE>
```

मौजूद पैरामीटर:
* `PATH` वह पाथ है जिस पर कॉन्फ़िगरेशन फ़ाइल एक्स्पोर्ट की जानी चाहिए. डिफ़ॉल्ट `./secretsManagerConfig.json`
* `NODE_NAME` मौजूदा नोड का नाम है जिसके लिए GCP SM कॉन्फ़िगरेशन को सेट किया जा रहा है. यह एक मनमानी वैल्यू हो सकती है. डिफ़ॉल्ट `polygon-edge-node`
* `PROJECT_ID` उस प्रोजेक्ट की ID है जिसे यूज़र ने अकाउंट सेटअप और सीक्रेट्स मैनेजर API एक्टिवेशन के दौरान GCP कंसोल में स्पष्ट किया है.
* `GCP_CREDS_FILE` json फ़ाइल का पाथ है जिसमें क्रेडेंशियल्स हैं जो सीक्रेट मैनेजर को पढ़ने/लिखने की अनुमति देगा.

:::caution नोड के नाम
नोड के नाम निर्दिष्ट करते समय सावधान रहें.

पॉलीगॉन एज निर्दिष्ट नोड नाम का इस्तेमाल उन सीक्रेट्स को ट्रैक करने के लिए करता है जिसे यह GCP SM पर जनरेट और इस्तेमाल करता है. किसी मौजूदा नोड नाम को निर्दिष्ट करने से GCP SM को सीक्रेट रूप से लिखने में विफल होने जैसे परिणाम हो सकते हैं.

सीक्रेट्स नीचे दिए गए बेस पाथ पर स्टोर किए गए हैं: `projects/PROJECT_ID/NODE_NAME`

:::

## स्टेप 2 - कॉन्फ़िगरेशन का इस्तेमाल करके सीक्रेट की शुरू करें {#step-2-initialize-secret-keys-using-the-configuration}

अब जबकि कॉन्फ़िगरेशन फ़ाइल मौजूद है, हम  का इस्तेमाल करके स्टेप 1 में कॉन्फ़िगरेशन फ़ाइल के साथ आवश्यक सीक्रेट की को शुरू कर सकते हैं`--config`:

```bash
polygon-edge secrets init --config <PATH>
```

`PATH`परम स्टेप 1 से पहले जनरेट किए गए सीक्रेट्स मैनेजर परम की लोकेशन है.

## स्टेप 3 - जेनेसिस फ़ाइल जनरेट करें {#step-3-generate-the-genesis-file}

जेनेसिस फ़ाइल [**को स्थानीय सेटअप**](/docs/edge/get-started/set-up-ibft-locally)
और [**क्लाउड सेटअप**](/docs/edge/get-started/set-up-ibft-on-the-cloud) गाइड के समान मामूली बदलावों के साथ जनरेट किया जाना चाहिए.

चूँकि स्थानीय फ़ाइल सिस्टम के बजाय GCP SM को इस्तेमाल किया जा रहा है, वैलिडेटर पते को `--ibft-validator` फ़्लैग के माध्यम से जोड़ा जाना चाहिए:
```bash
polygon-edge genesis --ibft-validator <VALIDATOR_ADDRESS> ...
```

## स्टेप 4 - पॉलीगॉन एज क्लाइंट शुरू करें {#step-4-start-the-polygon-edge-client}

अब जब की सेट अप हो गई हैं, और जेनेसिस फ़ाइल जनरेट हो गई है, तो इस प्रक्रिया का आखिरी स्टेप पॉलीगॉन एज को क`server`मांड के साथ शुरू करना होगा.

 `server`कमांड का इस्तेमाल उसी तरीके से किया जाता है जैसे कि पहले बताए गई गाइडों में, मामूली जोड़ के साथ - फ़्लैग`--secrets-config`:
```bash
polygon-edge server --secrets-config <PATH> ...
```

 `PATH`परम स्टेप 1 से पहले जनरेट किए गए सीक्रेट्स मैनेजर परम की लोकेशन है.