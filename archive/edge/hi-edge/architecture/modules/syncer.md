---
id: syncer
title: सिंक्रोनाइज़ेशन
description: पॉलीगॉन एज के सिंक्रोनाइज़ेशन मॉड्यूल के लिए व्याख्या.
keywords:
  - docs
  - polygon
  - edge
  - architecture
  - module
  - synchronization
---

## ओवरव्यू {#overview}

इस मॉड्यूल में सिंक्रोनाइज़ेशन प्रोटोकॉल के लिए लॉजिक शामिल है. इसका इस्तेमाल रन कर रहे नेटवर्क के साथ एक नोड को सिंक करने या जो नोड्स सहमति (नॉन वैलिडेटर) में भाग नहीं लेते उनके लिए नए ब्लॉक को वैलिडेट/इंसर्ट करने के लिए किया जाता है.

पॉलीगॉन एज नेटवर्किंग लेयर के रूप में **libp2p** का इस्तेमाल करता है, और उस पर **gRPC** को रन करता है.

पॉलीगॉन एज में अनिवार्य रूप से 2 सिंक प्रकार हैं:
* बल्क सिंक  - एक बार में ब्लॉक की एक बड़ी रेंज को सिंक करता है
* वॉच सिंक - ब्लॉक को एक-एक करके सिंक करता है

### बल्क सिंक {#bulk-sync}

बल्क सिंकिंग के लिए स्टेप्स, एक साथ बल्क में सिंक करने के लक्ष्य को पाने के लिए काफ़ी सीधे-सरल होते हैं - इसमें बराबर आने के लिए जितना संभव हो (उपलब्ध हों) उतने ही ब्लॉक को पियर से जितना जल्दी हो, लेना होता है.

यह बल्क में सिंक करने की प्रक्रिया का फ़्लो है:

1. ** निर्धारित करें कि नोड को बल्क में सिंक कराने की ज़रूरत है ** - इस स्टेप में, नोड पियर के मैप को जाँचता है कि क्या कोई ऐसा है जिसके पास नोड के स्थानीय नंबर से बड़ा ब्लॉक नंबर है
2. ** सर्वश्रेष्ठ पियर का पता लगाएँ (सिंक के मैप का इस्तेमाल करके) ** - इस स्टेप में नोड, ऊपर दिए गए उदाहरण में बताए गए मानदंडों के आधार पर सिंक करने के लिए सबसे अच्छे पियर का पता लगाता है.
3. ** एक बल्क सिंक स्ट्रीम खोलें ** - इस स्टेप में नोड ब्लॉक को सामान्य ब्लॉक नंबर से बल्क में सिंक करने के लिए सबसे अच्छे पियर के लिए एक gRPC स्ट्रीम खोलता है
4. ** सबसे अच्छा पियर जब बल्क में भेज देता है तो वह स्ट्रीम बंद कर देता है ** - इस स्टेप में सबसे अच्छा पियर जैसे ही अपने पास के सारे ब्लॉक भेज देता है, वैसे ही नोड का सिंक होना स्ट्रीम बंद होने के साथ ही बंद हो जाएगा
5. ** जब बल्क में सिंक किया जा रहा हो, तो जाँचें कि नोड एक वैलिडेटर है ** - इस स्टेप में, को सबसे अच्छे पियर द्वारा बंद कर दिया जाता है, और नोड को चेक करने की ज़रूरत होती है कि वे बल्क में सिंक होने के बाद एक वैलिडेटर हैं.
  * अगर वे हैं, तो वे सिंक स्टेट से बाहर निकल जाते हैं और सहमति में भाग लेना शुरू कर दें
  * अगर वे ऐसा नहीं करते, तो वे ** वॉच सिंक ** में जारी रहते हैं

### वॉच सिंक {#watch-sync}

:::info

वॉच सिंकिंग के लिए स्टेप को केवल तब एक्ज़ीक्यूट किया जाता है, जब नोड एक वैलिडेटर नहीं होता, लेकिन नेटवर्क में एक नियमित नॉन-वैलिडेटर नोड होता है जो सिर्फ़ आने वाले ब्लॉक को ही सुनता है.

:::

वॉच सिंक का व्यवहार बहुत सीधा-सरल होता है, नोड पहले से ही बाकी के नेटवर्क के साथ सिंक किया जाता है और इसमें सिर्फ़ नए आने वाले ब्लॉक को ही पार्स कराने की ज़रूरत होती है.

यह वॉच सिंक की प्रक्रिया का फ़्लो है:

1. ** जब एक पियर का स्टेटस अपडेट किया जाता है तब एक नया ब्लॉक जोड़ें ** - इस स्टेप में नोड नए ब्लॉक इवेंट को सुनते हैं जब इसमें एक नया ब्लॉक होता है तो यह एक gRPC फंक्शन को कॉल करता है ब्लॉक लेता है और स्थानीय स्टेट को अपडेट करता है.
2. ** जाँचें कि नए ब्लॉक को सिंक करने के बाद नोड एक वैलिडेटर है या नहीं **
   * अगर यह है, तो सिंक स्टेट से बाहर आ जाएँ
   * अगर यह नहीं है, तो नए ब्लॉक इवेंट को सुनना जारी रखें

## प्रदर्शन रिपोर्ट {#perfomance-report}

:::info

प्रदर्शन को एक स्थानीय मशीन पर एक ** मिलियन ब्लॉक ** को सिंक करके मापा गया था

:::

| नाम | परिणाम |
|----------------------|----------------|
| 1मिलियन ब्लॉक को सिंक करना | ~25 मिनट |
| 1मिलियन ब्लॉक को ट्रांसफ़र करना | ~1 मिनट |
| GRPC कॉल की संख्या | 2 |
| टेस्ट कवरेज | ~ 93% |