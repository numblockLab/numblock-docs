---
id: pos-stake-unstake
title: প্রুফ অফ স্টেক (PoS) এর সেটআপ এবং ব্যবহার
description: "স্টেক, আনস্টেক এবং অন্যান্য স্টেকিং সম্পর্কিত নির্দেশাবলী।"
keywords:
  - docs
  - polygon
  - edge
  - stake
  - unstake
  - validator
  - epoch
---

## সংক্ষিপ্ত বিবরণ {#overview}

Polygon Edge-এর সাথে একটি প্রুফ অফ স্টেক নেটওয়ার্ক সেট আপ করার বিষয়ে এই গাইডটি বিস্তারিতভাবে বর্ণনা করে, নোডগুলির জন্য ফান্ড কীভাবে স্টেক করতে হয় যাতে তারা ভ্যালিডেটর হয়ে ওঠে এবং কীভাবে ফান্ড আনস্টেক করতে হয়।

এটি পড়তে এবং মধ্য দিয়ে যেতে **অত্যন্ত উৎসাহিত** করা হয় [লোকাল সেটআপ](/docs/edge/get-started/set-up-ibft-locally)
/ [ক্লাউড সেটআপ](/docs/edge/get-started/set-up-ibft-on-the-cloud) বিভাগসমূহ পড়ার জন্য,
PoS নির্দেশিকার সাথে এগিয়ে যাওয়ার আগে। এই বিভাগসমূহে Polygon Edge-এর সাথে একটি প্রুফ অফ অথরিটি (PoA) ক্লাস্টার শুরু করার জন্য প্রয়োজনীয় পদক্ষেপগুলোর
রূপরেখা পাবেন।

বর্তমানে, স্টেকিং স্মার্ট চুক্তিতে ফান্ড স্টেক করার ক্ষেত্রে যাচাইকারীর সংখ্যার কোনও সীমা নেই।

## স্টেকিং স্মার্ট চুক্তি {#staking-smart-contract}

স্টেকিং স্মার্ট চুক্তির রেপো [এখানে](https://github.com/0xPolygon/staking-contracts) অবস্থিত।

এতে প্রয়োজনীয় টেস্টিং স্ক্রিপ্ট, ABI ফাইল এবং সবচেয়ে গুরুত্বপূর্ণভাবে, এতে স্মার্ট চুক্তিটিই রয়েছে।

## একটি N নোড ক্লাস্টার সেটআপ করা {#setting-up-an-n-node-cluster}

Polygon Edge দিয়ে একটি নেটওয়ার্ক সেটআপ করার প্রক্রিয়া
[লোকাল সেটআপ](/docs/edge/get-started/set-up-ibft-locally)
/ [ক্লাউড সেটআপ](/docs/edge/get-started/set-up-ibft-on-the-cloud) বিভাগসমূহে বর্ণনা করা হয়েছে।

একটি PoS এবং PoA ক্লাস্টার সেটআপ এর মধ্যে একমাত্র **পার্থক্য** হল জেনেসিস জেনারেশনের অংশটি।

**একটি PoS ক্লাস্টারের জন্য জেনেসিস ফাইল তৈরি করার সময়, একটি অতিরিক্ত ফ্ল্যাগ প্রয়োজন `--pos`**:

```bash
polygon-edge genesis --pos ...
```

## একটি epoch-এর দৈর্ঘ্য সেট করা {#setting-the-length-of-an-epoch}

Epochs সম্পর্কে [Epoch ব্লক](/docs/edge/consensus/pos-concepts#epoch-blocks) বিভাগে বিস্তারিতভাবে বর্ণনা করা আছে।

জেনেসিস ফাইল তৈরি করার সময়, একটি ক্লাস্টারের (ব্লকে) জন্য epoch-এর আকার সেট করতে, একটি অতিরিক্ত ফ্ল্যাগ
নির্দিষ্ট আছে `--epoch-size`:

```bash
polygon-edge genesis --epoch-size 50
```

এই মানটি জেনেসিস ফাইলে epoch-এর আকার `50` ব্লকে নির্দিষ্ট করেছে।

একটি epoch (ব্লকে) এর আকারের ডিফল্ট মান হচ্ছে `100000`।

:::info epoch এর দৈর্ঘ্য কমানো

[Epoch ব্লক](/docs/edge/consensus/pos-concepts#epoch-blocks) বিভাগের বর্ণনা অনুসারে,
নোডগুলিতে যাচাইকারীর সেট আপডেট করতে epoch ব্লক ব্যবহার করা হয়।

ব্লকে, epoch এর ডিফল্ট দৈর্ঘ্য (`100000`) যাচাইকারীর সেট আপডেটের জন্য একটি দীর্ঘ সময় হতে পারে। যেহেতু প্রতিটি নতুন ব্লক যোগ করতে
~2s সময়ের প্রয়োজন হয়, তাই যাচাইকারীর সেটটিতে পরিবর্তন হতে আনুমানিক ~55.5h সময়ের প্রয়োজন হবে।

epoch দৈর্ঘ্যের জন্য একটি কম মান সেট করা এটি নিশ্চিত করে যে ভ্যালিডেটর সেটটি আরও ঘন ঘন আপডেট হবে।
:::

## স্টেকিং স্মার্ট চুক্তির স্ক্রিপ্ট ব্যবহার করা {#using-the-staking-smart-contract-scripts}

### পূর্বশর্ত {#prerequisites}

স্টেকিং স্মার্ট চুক্তি রেপো একটি হার্ডহ্যাট প্রকল্প, যার জন্য NPM-এর প্রয়োজন হয়।

এটি সঠিকভাবে চালু করতে, মূল ডিরেক্টরিতে রান করুন:

```bash
npm install
````

### প্রদত্ত সহায়ক স্ক্রিপ্ট সেটআপ করা {#setting-up-the-provided-helper-scripts}

ডিপ্লয়েড স্টেকিং স্মার্ট চুক্তির সাথে ইন্টের‍্যাক্ট করার স্ক্রিপ্টগুলি আছে
[স্টেকিং স্মার্ট চুক্তি রেপোতে](https://github.com/0xPolygon/staking-contracts)।

স্মার্ট চুক্তির রেপো লোকেশনে নিম্নলিখিত প্যারামিটারের সাথে একটি `.env` ফাইল তৈরি করুন:

```bash
JSONRPC_URL=http://localhost:10002
PRIVATE_KEYS=0x0454f3ec51e7d6971fc345998bb2ba483a8d9d30d46ad890434e6f88ecb97544
STAKING_CONTRACT_ADDRESS=0x0000000000000000000000000000000000001001
BLS_PUBLIC_KEY=0xa..
```

প্যারামিটারগুলি যেখানে আছে:

* **JSONRPC_URL** - চলমান নোডের JSON-RPC এন্ডপয়েন্ট
* **PRIVATE_KEYS** - স্টেকার ঠিকানার প্রাইভেট কী।
* **STAKING_CONTRACT_ADDRESS** - স্টেকিং স্মার্ট চুক্তির ঠিকানা (
ডিফল্ট `0x0000000000000000000000000000000000001001`)
* **BLS_PUBLIC_KEY** - স্টেকারের BLS পাবলিক কী। শুধুমাত্র BLS দিয়ে চলমান নেটওয়ার্কের ক্ষেত্রে প্রয়োজন

### ফান্ড স্টেক করা {#staking-funds}

:::info স্টেকিং ঠিকানা

স্টেকিং স্মার্ট চুক্তিটি প্রি-ডিপ্লয়েড আছে
`0x0000000000000000000000000000000000001001` ঠিকানায়।

স্টেকিং-এর সাথে যে কোনও ধরণের ইন্টারঅ্যাকশন স্টেকিং স্মার্ট চুক্তির মাধ্যমে নির্দিষ্ট ঠিকানায় করা হয়।

স্টেকিং স্মার্ট চুক্তি সম্পর্কে আরও জানতে, অনুগ্রহ করে
**[স্ট্যাকিং স্মার্ট কন্ট্রাক](/docs/edge/consensus/pos-concepts#contract-pre-deployment)** বিভাগটিতে যান।

:::

কোনো অ্যাড্রেসকে যাচাইকারীর সেটের একটি অংশ হতে, একটি থ্রেশহোল্ডের উপরে একটি নির্দিষ্ট পরিমাণ ফান্ড স্টেক করতে হবে।

বর্তমানে, যাচাইকারীর সেটের অংশ হওয়ার জন্য ডিফল্ট থ্রেশহোল্ড হচ্ছে `1 ETH`।

স্টেকিং স্মার্ট চুক্তির `stake` পদ্ধতি কল করে এবং একটি মান `>= 1 ETH` নির্দিষ্ট করে স্টেক করা শুরু করা যেতে পারে।

`.env` ফাইলটি সেটআপের পরে
যা [পূর্ববর্তী সেকশনে](/docs/edge/consensus/pos-stake-unstake#setting-up-the-provided-helper-scripts) উল্লেখ করা হয়েছিল এবং
PoS মোডে চেইন শুরু করার পর, স্টেকিং স্মার্ট চুক্তির রেপোতে নিম্নলিখিত কমান্ড ব্যবহার করে স্টেক করা যেতে পারে:

```bash
npm run stake
```

`stake` হার্ডহ্যাট স্ক্রিপ্টটি ডিফল্ট পরিমাণ হিসেবে `1 ETH` স্টেক করে, যা `scripts/stake.ts` ফাইলে সংশোধন করে পরিবর্তন করা
যেতে পারে।

যদি স্টেক করা ফান্ড `>= 1 ETH` হয়, তাহলে স্ট্যাকিং স্মার্ট চুক্তির যাচাইকারীর সেট আপডেট করা হয় এবং ঠিকানাটি
পরবর্তী epoch থেকে শুরু হওয়া যাচাইকারীর সেটের অংশ হয়ে যাবে।

:::info BLS কী রেজিস্টার করা
যদি নেটওয়ার্ক BLS মোডে চলমান হয়, তবে নোডকে ভ্যালিডেটর হতে হলে তাদের স্টেকিং এর পরে, তাদের BLS পাবলিক কী নিবন্ধন করতে হবে

এটি নিম্নলিখিত কমান্ড ব্যবহার করে সম্পাদন করা যাবে:

```bash
npm run register-blskey
```
:::

### ফান্ড আনস্টেক করা {#unstaking-funds}

স্টেক থাকা ঠিকানাগুলো **শুধুমাত্র একবারে তাদের সমস্ত ফান্ড আনস্টেক** করতে পারে।

`.env` ফাইলটি সেটআপের পরে
যা [পূর্ববর্তী বিভাগে](/docs/edge/consensus/pos-stake-unstake#setting-up-the-provided-helper-scripts)
উল্লেখ করা হয়েছিল এবং PoS মোডে একটি চেইন শুরু করার পর, স্টেকিং স্মার্ট চুক্তি রেপোতে নিম্নলিখিত কমান্ড ব্যবহার করে
আনস্টেক করা যেতে পারে:

```bash
npm run unstake
```

### স্টেকারদের তালিকা পাওয়া {#fetching-the-list-of-stakers}

স্টেক করা সকল ঠিকানাকে স্টেকিং স্মার্ট চুক্তিতে সংরক্ষণ করা হয়।

`.env` ফাইলটি সেটআপের পরে
যা [পূর্ববর্তী বিভাগে](/docs/edge/consensus/pos-stake-unstake#setting-up-the-provided-helper-scripts)
উল্লেখ করা হয়েছিল এবং PoS মোডে একটি চেইন শুরু করার পরে, স্টেকিং স্মার্ট চুক্তি রেপোতে নিম্নলিখিত কমান্ড
ব্যবহার করে যাচাইকারীদের তালিকা পাওয়া যাবে:

```bash
npm run info
```
