---
id: meta-transactions
title: Мета-транзакции
sidebar_label: Overview
description: Узнайте больше о мета-транзакциях и возможностях их использования.
keywords:
  - docs
  - polygon
  - matic
  - transactions
  - meta transactions
  - gasless
image: https://matic.network/banners/matic-network-16x9.png
slug: meta-transactions
---

Количество ежедневных вызовов смарт-контрактов достигло рекордного уровня в 2,5-3 миллиона вызовов в день.
Децентрализованные приложения начинают показывать свою полезность, но становятся жертвами своего успеха или успеха других
в связи с комиссиями за газ. Также не стоит забывать о сложностях в работе с большим количеством пользователем и вызовами
в области UX, которые непросто устранить.

## Обслуживание смарт-контрактов {#servicing-smart-contracts}

Смарт-контракты разработаны как детерминистские машины состояния, выполняемые, когда плата за транзакции
выплачивается логике контракта с использованием вычислительных ресурсов сети.
Это достигается с помощью модели измерения газа в Ethereum (и Polygon).

## Текущее состояние транзакции {#the-current-state-of-transacting}

Существуют ограничения этой традиционной модели транзакций в Ethereum (и других блокчейнах).
Самое распространенное ограничение — отсутствие у пользователя возможности заплатить за газ. По умолчанию отправитель
транзакции выступает в качестве плательщика, поскольку эти действия связаны, так что если пользователь пытается создать и отправить
транзакцию, этот пользователь отвечает за оплату соответствующей комиссии за газ. Аналогичным образом, если пользователь создает, взаимодействует
или запускает децентрализованное приложение, он должен оплатить газ.

Нереалистично ожидать, что средний пользователь будет покупать криптовалюту и оплачивать газ, чтобы взаимодействовать с
приложением. Для решения этой проблемы можно отсоединить отправителя транзакции от действия
в качестве плательщика, открывая возможность масштабировать выполнение транзакций и инициировать беспрепятственный транзакционный
опыт.

Вместо выполнения транзакции напрямую задействуется промежуточное ПО (через третью сторону) для работы с газом.
Именно здесь и будут полезными мета-транзакции.

## Что такое мета-транзакции? {#what-are-meta-transactions}

Мета-транзакции позволяют кому угодно взаимодействовать с блокчейном. Они не требуют от пользователей наличия
токенов для оплаты услуг сети посредством комиссий за транзакции. Это достигается посредством отсоединения
отправителя транзакции и плательщика газа.

Решение, поддерживающее организацию работы новых пользователей и помогающее текущим пользователям.

Исполнитель транзакции выступает в качестве отправителя. Вместо того, чтобы тратить газ, он просто создает
запрос транзакции, подписывая планируемое действие (параметры транзакции), используя свой приватный
ключ. Мета-транзакция — это обычная транзакция Ethereum, включающая дополнительные параметры, с помощью которых создается
мета-транзакция.

Параметры подписанной транзакции передаются во вторичную сеть, которая выступает в качестве ретранслятора.
Хотя для этого существуют разные схемы, ретрансляторы обычно выбирают, какие транзакции стоит
отправлять, выполняя валидацию транзакции (проверяя их актуальность для децентрализованного приложения). После валидации ретранслятор
заключает запрос (подписанное сообщение) в реальную транзакцию (что означает оплату комиссии за газ)
и передает ее в сеть, где контракт разворачивает транзакцию посредством валидации исходной
подписи и выполняет транзакцию от имени пользователя.

:::note Понятия мета и пакетное исполнение могут показаться кому-то аналогичными

Для ясности: мета-транзакция отличается от пакетной транзакции, т.к. пакетная транзакция — это
транзакция, способная отправлять несколько транзакций одновременно, а затем выполнять их, используя единого отправителя
(единственный после указания) в последовательности.

:::

В целом, мета-транзакции представляют собой шаблонную схему, в которой:

* Пользователь (отправитель) подписывает запрос своим приватным ключом и отправляет его ретранслятору
* Ретранслятор заключает запрос в транзакцию и отправляет ее в контракт
* Контракт разворачивает транзакцию и выполняет ее

Нативные транзакции подразумевают, что отправитель также является плательщиком. Если роль плательщика отсоединяется от роли отправителя, отправитель играет роль автора намерения, т. е. показывает намерение осуществить транзакцию
для выполнения в блокчейне, подписывая сообщение, содержащее конкретные параметры, связанные с
сообщением, а не полную транзакцию.

## Примеры использования {#use-cases}

Можно легко представить возможности, которые дают мета-транзакции для масштабирования децентрализованных приложений и взаимодействия со смарт-контрактами.
Пользователь не только может создавать транзакцию без газа, но и делать это много раз, а с инструментом автоматизации
мета-транзакции могут повлиять на следующую волну приложений для практического использования. Мета-транзакции
делают реально полезной логику смарт-контрактов, которая часто бывает ограничена в связи с комиссией за газ и требуемым взаимодействием
внутри цепочки.

### Пример с голосованием {#example-with-voting}

Пользователь хочет участвовать в управлении цепочкой и намеревается проголосовать за определенный результат с помощью
контракта для голосования. Пользователь подписывает сообщение, указывающее решение пользователя по голосованию, используя этот конкретный
контракт. В обычной ситуации пользователю нужно было бы заплатить комиссию за газ за взаимодействие с контрактом (и знать, как
взаимодействовать с контрактом), однако вместо этого пользователь может подписать мета-транзакцию (вне цепочки), указав необходимую
информацию для голосования и передать ее ретранслятору, который выполнит транзакцию от имени этого пользователя.

Подписанное сообщение отправляется ретранслятору (параметры подписанной транзакции с информацией для голосования). Ретранслятор
проводит валидацию, определяет, что транзакция является приоритетной для голосования и заключает запрос на голосование в реальную транзакцию,
уплачивает комиссию за газ и передает ее голосующему контракту. Все проверки в контрактах голосования
заканчиваются, и голосование производится от имени пользователя.

## Попробуйте их {#try-them-out}

Если вы знакомы с разными подходами, вы можете интегрировать мета-транзакции
в свое децентрализованное приложение в зависимости от того, выполняете ли вы миграцию на мета-транзакции или создаете для этого новое децентрализованное приложение.

Чтобы интегрировать в свое децентрализованное приложение мета-транзакции Polygon, вы можете выбрать один из следующих вариантов
трансляторов или развернуть пользовательское решение:

* [Biconomy](https://docs.biconomy.io/products/enable-gasless-transactions)
* [Gas Station Network (GSN)](https://docs.opengsn.org/#ethereum-gas-station-network-gsn)
* [Infura](https://infura.io/product/ethereum/transactions-itx)
* [Gelato](https://docs.gelato.network/developer-products/gelato-relay-sdk)
