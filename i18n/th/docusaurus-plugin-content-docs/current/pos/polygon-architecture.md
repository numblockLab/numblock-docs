---
id: polygon-architecture
title: สถาปัตยกรรมของ Polygon
description: สถาปัตยกรรมของ Polygon
keywords:
  - architecture
  - layers
  - polygon
  - matic
  - docs
  - research
image: https://matic.network/banners/matic-network-16x9.png
---
import useBaseUrl from '@docusaurus/useBaseUrl';

# สถาปัตยกรรมของ Polygon {#the-architecture-of-polygon}

**Polygon** คือแพลตฟอร์มของโปรแกรมบล็อกเชน ซึ่งมอบsidechain สำหรับการจัดการแบบผสม และsidechin ที่ใช้งานของ Plasma

ในทางสถาปัตยกรรม คุณค่าของ Polygon อยู่ที่การออกแบบที่หรูหรา ซึ่งมีเลเยอร์การตรวจสอบความถูกต้องทั่วไปต่างหากจากสภาพแวดล้อมการดำเนินการที่แตกต่างกัน เช่น เชนที่ใช้งาน Plasma ไซด์เชน EVM เต็มรูปแบบ และแนวทางอื่นๆ ที่ใช้เลเยอร์ 2 เช่น เทคโนโลยี Optimistic Rollup

เครือข่าย Polygon PoS มีสถาปัตยกรรมสามเลเยอร์:

* **เลเยอร์ Ethereum** เป็นชุดสัญญาบน Ethereum Mainnet
* **เลเยอร์** Heimdall ซึ่งเป็นชุดโหนด Heimdall ที่เดิมพันจะเรียกคู่ขนานไปยัง Mainet Ethereum โดยตรวจสอบชุดสัญญาการเดิมพันที่ติดตั้งบนโมเนต์ Ethereum และทำการตรวจสอบเช็คพอยต์เครือข่าย Polygon ไปยังอีthereum MainnetHeimdall ทำงานบน Tendermint
* **เลเยอร์** Bor - ชุดโหนด Bor ที่ผลิตบล็อกโดยโหนด HeimdallBor ทำงานบน Go Ethereum

<img src={useBaseUrl("img/staking/architecture.png")} />

ปัจจุบัน นักพัฒนาสามารถใช้ **Plasma** ในการย้ายสถานะเฉพาะที่ข้อกำหนดเบื้องต้นของ Plasma
ได้เขียนขึ้น เช่น ERC20, ERC721 การแลกเปลี่ยนสินทรัพย์ หรือข้อกำหนดเบื้องต้นที่กำหนดเองอื่นๆสำหรับการเปลี่ยนสถานะตามความต้องการสามารถใช้ PoS ได้หรือทั้งสองอย่างซึ่งเป็นไปได้จากโครงสร้างไฮบริดของ Polygon

เพื่อเปิดใช้งานกลไก PoS ในแพลตฟอร์ม ของเรา จึงมีการปรับใช้ชุดสัญญาการจัดการ**การเดิมพัน** บน
Ethereum และชุดตัวตรวจสอบความถูกต้องที่รับผลตอบแทนที่เรียกใช้โหนดของ **Heimdall** และ **Bor** Ethereum คือเชนหลักแรกที่ Polygon รองรับ แต่ Polygon ยังมีจุดมุ่งหมายเพื่อให้การสนับสนุนสำหรับเชนหลักเพิ่มเติม เพื่อเปิดใช้งานแพลตตฟอร์มบล็อกเชนที่อนุญาตใช้เลเยอร์ 2 แบบกระจายศูนย์ ตาม คำแนะนำของชุมชนและฉันทามติ

<img src={useBaseUrl("img/matic/Architecture.png")} />

## สัญญาการ Stake {#staking-contracts}

เพื่อเปิดใช้งานกลไก [Proof of Stake (PoS)](docs/home/polygon-basics/what-is-proof-of-stake) บน Polygonระบบจะใช้งานชุดสัญญาการจัดการ[การเดิมพัน](/docs/maintain/glossary#staking)บน Ethereum Mainnet

สัญญาการเดิมพันนำคุณสมบัติต่อไปนี้มาใช้งาน:

* บุคคลใดก็สามารถเดิมพันโทเค็น MATIC ในสัญญาการเดิมพันบน Ethereum Mainnet และเข้าร่วมระบบโดยเป็น[ตัวตรวจสอบความถูกต้อง](/docs/maintain/glossary#validator)ได้
* รับผลตอบแแทนการ Stake จากการตรวจสอบการเปลี่ยนสถานะบนเครือข่าย Polygon
* บันทึก [เช็คพอยต์](/docs/maintain/glossary#checkpoint-transaction) ใน Ethereum Mainnet

กลไก PoS ยังทำหน้าที่บรรเทาปัญหาความไม่พร้อมใช้งานของข้อมูลสำหรับไซด์เชนของ Polygon อีกด้วย

## Heimdall {#heimdall}

Heimdall คือเลเยอร์ตรวจสอบความถูกต้องแบบ Proof of Stake ที่จัดการการรวมบล็อกที่สร้างขึ้น
โดย [Bor](/docs/maintain/glossary#bor) ในผังต้นไม้ Merkle และเผยแพร่ต้นทาง Merkle root ตามระยะเวลาต่อ
เชนต้นทางการเผยแพร่สแนปช็อตของไซด์เชน Bor ตามระยะเวลาเรียกว่า [เช็คพอยต์](/docs/maintain/glossary#checkpoint-transaction)

1. ตรวจสอบความถูกต้องของบล็อกทั้งหมดตั้งแต่เช็คพอยต์สุดท้าย
2. สร้างผังต้นไม้ Merkle จากแฮชของบล็อก
3. เผยแพร่แฮชต้นทาง Merkel ไปยัง Ethereum Mainnet

เช็คพอยต์มีความสำคัญเนื่องด้วยเหตุผล 2 ประการ:

1. ให้จุดสิ้นสุดบนเชนต้นทาง
2. ให้การพิสูจน์แบบ Proof of Burn ในการถอนสินทรัพย์

ภาพรวมของกระบวนการ:

* ชุดย่อยของตัวตรวจสอบความถูกต้องที่ใช้งานจากกองกลางจะถูกเลือกเพื่อทำหน้าที่เป็น[ผู้สร้างบล็อก](/docs/maintain/glossary#block-producer) สำหรับ [Span](/docs/maintain/glossary#span) ผู้สร้างบล็อกเหล่านี้รับผิดชอบในการสร้างบล็อกและเผยแพร่บล็อกที่สร้างบนเครือข่าย
* เช็คพอยต์รวมถึงแฮชต้นทาง Merkle ของบล็อกทั้งหมดที่สร้างขึ้นระหว่างช่วงเวลาที่กำหนดโหนดทั้งหมดจะตรวจสอบความถูกต้องของแฮชต้นทาง Merkel และแนบลายเซ็นไปด้วยกัน
* [ผู้เสนอ](/docs/maintain/glossary#proposer)ที่ได้รับเลือกจากชุดตัวตรวจสอบความถูกต้องมีหน้าที่รับผิดชอบในการรวบรวมลายเซ็นทั้งหมดสำหรับเช็คพอยต์เฉพาะ และยอมรับเช็คพอยต์บน Etherium Mainnet
* ความรับผิดชอบในการสร้างบล็อกและการเสนอเช็คพอยต์จะผันแปรตามอัตราส่วนของเดิมพันของตัวตรวจสอบความถูกต้องในกองกลางโดยรวม

รายละเอียดเพิ่มเติมเกี่ยวกับ Heimdall มีอยู่ในคู่มือ[สถาปัตยกรรมของ Heimdall](/docs/pos/heimdall/overview)

## Bor {#bor}

Bor คือชั้นผู้สร้างบล็อกของ Polygon - ตัวประกอบที่รับผิดชอบต่อการรวมธุรกรรมเข้าเป็นบล็อกปัจจุบัน เป็นการนำ Geth พื้นฐานมาใช้งานโดยมีการเปลี่ยนแปลงแบบกำหนดเองในอัลกอริทึมของฉันทามติ

ผู้สร้างบล็อกคือซับเน็ตของตัวตรวจสอบความถูกต้องและมีการสับเปลี่ยนเป็นระยะ ผ่านการเลือกคณะกรรมการบน [Heimdall](/docs/maintain/glossary#heimdall) ในระยะเวลาที่เรียกว่า`span` ใน Polygonบล็อกถูกสร้างขึ้นที่โหนด **Bor** และไซด์เชน VM สามารถใช้ร่วมกันได้กับ EVMนอกจากนี้ ยังมีการตรวจสอบความถูกต้องของบล็อกที่ผลิตบน Bor ตามระยะเวลาโดยโหนดของ Heimdall และเช็คพอยต์ที่ประกอบด้วยแฮชผังต้นไม้ของ Merkle ของชุดบล็อกบน Bor จะถูกยอมรับต่อ Ethereum ตามระยะเวลา

รายละเอียดเพิ่มเติมมีอยู่ในคู่มือ[สถาปัตยกรรม Bor](/docs/pos/bor/overview)

## แหล่งข้อมูล {#resources}

* [สถาปัตยกรรม Bor](https://wiki.polygon.technology/docs/pos/bor)
* [สถาปัตยกรรม Heimdall](https://forum.polygon.technology/t/matic-system-overview-heimdall/8323)
* [กลไกของเช็คพอยต์](https://forum.polygon.technology/t/checkpoint-mechanism-on-heimdall/7160)
