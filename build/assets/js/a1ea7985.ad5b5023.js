"use strict";(self.webpackChunknumblock_docs=self.webpackChunknumblock_docs||[]).push([[952],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(r),m=a,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||o;return r?n.createElement(h,i(i({ref:t},p),{},{components:r})):n.createElement(h,i({ref:t},p))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},6501:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));const o={title:"Smart Contract Libraries",description:"You can usually find two kinds of building blocks in smart contract libraries,reusable behaviors you can add to your contracts, and implementations of various standards.",lang:"en"},i=void 0,s={unversionedId:"developers/smart-contracts/libraries",id:"developers/smart-contracts/libraries",title:"Smart Contract Libraries",description:"You can usually find two kinds of building blocks in smart contract libraries,reusable behaviors you can add to your contracts, and implementations of various standards.",source:"@site/docs/developers/smart-contracts/libraries.md",sourceDirName:"developers/smart-contracts",slug:"/developers/smart-contracts/libraries",permalink:"/docs/developers/smart-contracts/libraries",draft:!1,tags:[],version:"current",frontMatter:{title:"Smart Contract Libraries",description:"You can usually find two kinds of building blocks in smart contract libraries,reusable behaviors you can add to your contracts, and implementations of various standards.",lang:"en"},sidebar:"develop",previous:{title:"Anatomy of Smart Contracts",permalink:"/docs/developers/smart-contracts/anatomy"},next:{title:"Compiling Smart Contracts",permalink:"/docs/developers/smart-contracts/compiling-contracts"}},l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"What&#39;s in a library",id:"whats-in-a-library",level:2},{value:"Behaviors",id:"behaviors",level:3},{value:"How to add a library",id:"how-to",level:2},{value:"When to use",id:"when-to-use",level:2},{value:"Related tools",id:"related-tools",level:2}],p={toc:c};function u(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"You don't need to write every smart contract in your project from scratch. There are many open source smart contract libraries available that provide reusable building blocks for your project that can save you from having to reinvent the wheel."),(0,a.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,a.kt)("p",null,"Before jumping into smart contract libraries, it's a good idea to have a nice understanding of the structure of a smart contract. Head over to ",(0,a.kt)("a",{parentName:"p",href:"/docs/developers/smart-contracts/anatomy"},"smart contract anatomy")," if you haven't done so yet."),(0,a.kt)("h2",{id:"whats-in-a-library"},"What's in a library"),(0,a.kt)("p",null,"You can usually find two kinds of building blocks in smart contract libraries: reusable behaviors you can add to your contracts, and implementations of various standards."),(0,a.kt)("h3",{id:"behaviors"},"Behaviors"),(0,a.kt)("p",null,"When writing smart contracts, there is a good chance you'll find yourself writing similar patterns over and over, like assigning an ",(0,a.kt)("em",{parentName:"p"},"admin")," address to carry out protected operations in a contract, or adding an emergency ",(0,a.kt)("em",{parentName:"p"},"pause")," button in the event of an unexpected issue."),(0,a.kt)("p",null,"Smart contract libraries usually provide reusable implementations of these behaviors as ",(0,a.kt)("a",{parentName:"p",href:"https://solidity.readthedocs.io/en/v0.7.2/contracts.html#libraries"},"libraries")," or via ",(0,a.kt)("a",{parentName:"p",href:"https://solidity.readthedocs.io/en/v0.7.2/contracts.html#inheritance"},"inheritance")," in Solidity."),(0,a.kt)("p",null,"As an example, following is a simplified version of the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.2.0/contracts/access/Ownable.sol"},(0,a.kt)("inlineCode",{parentName:"a"},"Ownable")," contract")," from the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/OpenZeppelin/openzeppelin-contracts"},"OpenZeppelin Contracts library"),", which designates an address as the owner of a contract, and provides a modifier for restricting access to a method only to that owner."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},'contract Ownable {\n    address public owner;\n\n    constructor() internal {\n        owner = msg.sender;\n    }\n\n    modifier onlyOwner() {\n        require(owner == msg.sender, "Ownable: caller is not the owner");\n        _;\n    }\n}\n')),(0,a.kt)("p",null,"To use a building block like this in your contract, you would need to first import it, and then extend from it in your own contracts. This will allow you to use the modifier provided by the base ",(0,a.kt)("inlineCode",{parentName:"p"},"Ownable")," contract to secure your own functions."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},'import ".../Ownable.sol"; // Path to the imported library\n\ncontract MyContract is Ownable {\n    // The following function can only be called by the owner\n    function secured() onlyOwner public {\n        msg.sender.transfer(1 ether);\n    }\n}\n')),(0,a.kt)("p",null,"Another popular example is ",(0,a.kt)("a",{parentName:"p",href:"https://docs.openzeppelin.com/contracts/3.x/utilities#math"},"SafeMath")," or ",(0,a.kt)("a",{parentName:"p",href:"https://dappsys.readthedocs.io/en/latest/ds_math.html"},"DsMath"),". These are libraries (as opposed to base contracts) that provide arithmetic functions with overflow checks, which are not provided by the language. It's a good practice to use either of these libraries instead of native arithmetic operations to guard your contract against overflows, which can have disastrous consequences!"),(0,a.kt)("h2",{id:"how-to"},"How to add a library"),(0,a.kt)("p",null,"Always refer to the documentation of the library you are including for specific instructions on how to include it in your project. Several Solidity contract libraries are packaged using ",(0,a.kt)("inlineCode",{parentName:"p"},"npm"),", so you can just ",(0,a.kt)("inlineCode",{parentName:"p"},"npm install")," them. Most tools for ",(0,a.kt)("a",{parentName:"p",href:"/docs/developers/smart-contracts/compiling-contracts"},"compiling")," contracts will look into your ",(0,a.kt)("inlineCode",{parentName:"p"},"node_modules")," for smart contract libraries, so you can do the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},'// This will load the @openzeppelin/contracts library from your node_modules\nimport "@openzeppelin/contracts/token/ERC721/ERC721.sol";\n\ncontract MyNFT is ERC721 {\n    constructor() ERC721("MyNFT", "MNFT") public { }\n}\n')),(0,a.kt)("p",null,"Regardless of the method you use, when including a library, always keep an eye on the ",(0,a.kt)("a",{parentName:"p",href:"/docs/developers/smart-contracts/languages"},"language")," version. For instance, you cannot use a library for Solidity 0.6 if you are writing your contracts in Solidity 0.5."),(0,a.kt)("h2",{id:"when-to-use"},"When to use"),(0,a.kt)("p",null,"Using a smart contract library for your project has several benefits. First and foremost, it saves you time by providing you with ready-to-use building blocks you can include in your system, rather than having to code them yourself."),(0,a.kt)("p",null,"Security is also a major plus. Open source smart contract libraries are also often heavily scrutinized. Given many projects depend on them, there is a strong incentive by the community to keep them under constant review. It's much more common to find errors in application code than in reusable contract libraries. Some libraries also undergo ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/audit"},"external audits")," for additional security."),(0,a.kt)("p",null,"However, using smart contract libraries carry the risk of including code you are not familiar with into your project. It's tempting to import a contract and include it directly into your project, but without a good understanding of what that contract does, you may be inadvertently introducing an issue in your system due to an unexpected behavior. Always make sure to read the documentation of the code you are importing, and then review the code itself before making it a part of your project!"),(0,a.kt)("p",null,"Last, when deciding on whether to include a library, consider its overall usage. A widely-adopted one has the benefits of having a larger community and more eyes looking into it for issues. Security should be your primary focus when building with smart contracts!"),(0,a.kt)("h2",{id:"related-tools"},"Related tools"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"OpenZeppelin Contracts -")," ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"Most popular library for secure smart contract development."))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docs.openzeppelin.com/contracts/"},"Documentation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/OpenZeppelin/openzeppelin-contracts"},"GitHub")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://forum.openzeppelin.com/c/general/16"},"Community Forum"))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"DappSys -")," ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"Safe, simple, flexible building-blocks for smart-contracts."))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://dappsys.readthedocs.io/"},"Documentation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/dapphub/dappsys"},"GitHub"))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"HQ20 -")," ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"A Solidity project with contracts, libraries and examples to help you build fully-featured distributed applications for the real world."))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/HQ20/contracts"},"GitHub"))))}u.isMDXComponent=!0}}]);