"use strict";(self.webpackChunknumblock_docs=self.webpackChunknumblock_docs||[]).push([[3268],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||a;return n?o.createElement(h,i(i({ref:t},c),{},{components:n})):o.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<a;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9498:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var o=n(7462),r=(n(7294),n(3905));const a={title:"Launching an NFT",description:"Tutorial to deploy an NFT collection to NumBlock.",keywords:["nft contract","deploy nft","erc721","erc721 standard","erc721 token"]},i="Launching an NFT on NumBlock",l={unversionedId:"developers/building/nft",id:"developers/building/nft",title:"Launching an NFT",description:"Tutorial to deploy an NFT collection to NumBlock.",source:"@site/docs/developers/building/nft.md",sourceDirName:"developers/building",slug:"/developers/building/nft",permalink:"/docs/developers/building/nft",draft:!1,tags:[],version:"current",frontMatter:{title:"Launching an NFT",description:"Tutorial to deploy an NFT collection to NumBlock.",keywords:["nft contract","deploy nft","erc721","erc721 standard","erc721 token"]},sidebar:"develop",previous:{title:"Launching an NRC-20 Token",permalink:"/docs/developers/building/token"},next:{title:"Bridges",permalink:"/docs/category/bridges"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Set up your environment",id:"step-1-set-up-your-environment",level:2},{value:"Step 2: Host NFT Art on IPFS",id:"step-2-host-nft-art-on-ipfs",level:2},{value:"Step 3: Implement the NRC-721 Token Contract",id:"step-3-implement-the-nrc-721-token-contract",level:2}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"launching-an-nft-on-numblock"},"Launching an NFT on NumBlock"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"As is the case with many other things on NumBlock, launching an NFT collection follows very similar steps to how you would on NumBlock. As is the case with NumBlock, you will need to implement the ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-721"},"ERC721 standard")," to create a Non-Fungible Token. For those familiar with Object-Oriented Programming, it's much like implementing an interface. You need to implement each of the following events/functions:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity",metastring:"showLineNumbers",showLineNumbers:!0},"interface ERC721 /* is ERC165 */ {\n    event Transfer(address indexed _from, address indexed _to, uint256 indexed _tokenId);=\n    event Approval(address indexed _owner, address indexed _approved, uint256 indexed _tokenId);\n    event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved);\n\n    function balanceOf(address _owner) external view returns (uint256);\n    function ownerOf(uint256 _tokenId) external view returns (address);\n    function safeTransferFrom(address _from, address _to, uint256 _tokenId, bytes data) external payable;\n    function safeTransferFrom(address _from, address _to, uint256 _tokenId) external payable;\n    function transferFrom(address _from, address _to, uint256 _tokenId) external payable;\n    function approve(address _approved, uint256 _tokenId) external payable;\n    function setApprovalForAll(address _operator, bool _approved) external;\n    function getApproved(uint256 _tokenId) external view returns (address);\n    function isApprovedForAll(address _owner, address _operator) external view returns (bool);\n}\n\ninterface ERC165 {\n    function supportsInterface(bytes4 interfaceID) external view returns (bool);\n}\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"NFTs are not necessarily NRC-721 tokens, they can also be ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1155"},"NRC-1155"),", for example.")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you're looking for a way to create NFTs without coding, check out ",(0,r.kt)("a",{parentName:"p",href:"https://nifty.ink/explore"},"Nifty.Ink"))),(0,r.kt)("p",null,"For this walk through, we're going to be using ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/"},"Hardhat")," (",(0,r.kt)("a",{parentName:"p",href:"/docs/developers/smart-contracts/deploying/hardhat"},"configure it with NumBlock"),")."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"To follow along, it's recommended to review and be familiar with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/developers/building/first-contract"},"documentation on deploying a contract"),".\nYou will also need to have a working Node.js >=16.0 installation and ",(0,r.kt)("a",{parentName:"p",href:"/docs/foundational-topics/networks/explorers/faucet"},"a small amount of xDai for gas"),"."),(0,r.kt)("h2",{id:"step-1-set-up-your-environment"},"Step 1: Set up your environment"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir NumBlock-nft\ncd NumBlock-nft && npm init && npm install --save-dev hardhat && npx hardhat\n")),(0,r.kt)("p",null,"Select ",(0,r.kt)("inlineCode",{parentName:"p"},"Create an empty hardhat.config.js")," and hit enter.\nNow, install the ",(0,r.kt)("inlineCode",{parentName:"p"},"hardhat-toolbox")," plugin:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --save-dev @nomicfoundation/hardhat-toolbox\n")),(0,r.kt)("p",null,"and add the line ",(0,r.kt)("inlineCode",{parentName:"p"},'require("@nomicfoundation/hardhat-toolbox");')," to the top of your ",(0,r.kt)("inlineCode",{parentName:"p"},"hardhat.config.js")," file."),(0,r.kt)("h2",{id:"step-2-host-nft-art-on-ipfs"},"Step 2: Host NFT Art on IPFS"),(0,r.kt)("p",null,"IPFS (",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/InterPlanetary_File_System"},"InterPlanetary File System"),") is the decentralized way to store files. Nft artwork tends to be pretty large, so storing them on-chain isn't an option. "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Download the IPFS CLI by following the instructions ",(0,r.kt)("a",{parentName:"p",href:"https://ipfs.tech/#install"},"here"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create IPFS repository"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ipfs init\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Open another terminal window and run the following:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ipfs daemon\n")),(0,r.kt)("p",null,"Now open the first terminal window and run the following to add your art file (art.png) to ipfs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ipfs add art.png\n")),(0,r.kt)("p",null,'This will output a hash prefixed by a "Qm". copy that and add the \u201c',(0,r.kt)("a",{parentName:"p",href:"https://ipfs.io/ipfs/%E2%80%9D"},"https://ipfs.io/ipfs/\u201d")," prefix to it. For example, this was mine: ",(0,r.kt)("a",{parentName:"p",href:"https://ipfs.io/ipfs/QmVUZDRXPLPToKVCfhWQ9hPT31ZUu3XDVuQr1XvQKqz1f1"},"https://ipfs.io/ipfs/QmVUZDRXPLPToKVCfhWQ9hPT31ZUu3XDVuQr1XvQKqz1f1")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Create a JSON file and add it to IPFS:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "name": "NumBlock NFT",\n    "description":"hoot hoot",\n    "image":"https://ipfs.io/ipfs/QmVUZDRXPLPToKVCfhWQ9hPT31ZUu3XDVuQr1XvQKqz1f1",\n}\n')),(0,r.kt)("p",null,"and then run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ipfs add nft.json\n")),(0,r.kt)("p",null,'Another "Qm" prefixed hash string will be generated. Copy that down and add the same \u201c',(0,r.kt)("a",{parentName:"p",href:"https://ipfs.io/ipfs/%E2%80%9D"},"https://ipfs.io/ipfs/\u201d")," prefix to it. Mine looks like this: ",(0,r.kt)("a",{parentName:"p",href:"https://ipfs.io/ipfs/QmdtHvwsGNjVejuXHyCnM3r4UP8cJonf8DgSveejGfNhvU"},"https://ipfs.io/ipfs/QmdtHvwsGNjVejuXHyCnM3r4UP8cJonf8DgSveejGfNhvU")," ."),(0,r.kt)("h2",{id:"step-3-implement-the-nrc-721-token-contract"},"Step 3: Implement the NRC-721 Token Contract"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a new directory called contracts and create a file called NumBlockNft.sol")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir contracts\ncd contracts && touch NumBlockNft.sol\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Open Nft.sol in your favorite text editor or IDE (VS Code has a ",(0,r.kt)("a",{parentName:"li",href:"https://hardhat.org/hardhat-vscode/docs/overview"},"Hardhat extension"),").\nTo keep it simple for the sake of this tutorial, we're going to import OpenZeppelin's ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/token/ERC721"},"NRC-721 Implementation"),". To use this, quickly run in the terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @openzeppelin/contracts\n")),(0,r.kt)("p",null,"If you go and take a look at the repository, you'll notice how they implement the NRC-721 standard as mentioned above. Take some time to look through the code, and then edit NumBlockNft.sol to look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity",metastring:"showLineNumbers",showLineNumbers:!0},'// SPDX-License-Identifier: MIT\npragma solidity 0.8.9;\n \nimport "@openzeppelin/contracts/token/ERC721/ERC721.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract NumBlockNft is Ownable, ERC721("NumBlockNft", "GNOT") {\n \n  uint tokenId;\n\n  mapping(address=>tokenMetaData[]) public ownershipRecord;\n\n  struct tokenMetaData{\n    uint tokenId;\n    uint timeStamp;\n    string tokenURI; //this will be the nft artwork\n  }\n\n  function mintToken(address recipient) onlyOwner public {\n\n    require(owner()!=recipient, "Recipient cannot be the owner of the contract");\n\n    _safeMint(recipient, tokenId);\n\n    ownershipRecord[recipient].push(tokenMetaData(tokenId,\n                                    block.timestamp,\n                                    "https://ipfs.io/ipfs/QmdtHvwsGNjVejuXHyCnM3r4UP8cJonf8DgSveejGfNhvU" //Make this your IPFS link you generated in step 2!\n                                  ));\n\n    tokenId = tokenId + 1;\n  }\n \n}\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Now that you've got that all coded up, it's time to compile and deploy. You can also ",(0,r.kt)("a",{parentName:"li",href:"/docs/developers/smart-contracts/deploying/hardhat"},"see here")," for more deployment info. Run from project root:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx hardhart compile\n")),(0,r.kt)("p",null,"This should compile without errors. Create a directory called scripts, and within it add a file called deploy.js. Add the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"showLineNumbers",showLineNumbers:!0},'async function main() {\n    const [deployer] = await ethers.getSigners();\n  \n    console.log("Deploying contracts with the account:", deployer.address);\n  \n    console.log("Account balance:", (await deployer.getBalance()).toString());\n  \n    const Token = await ethers.getContractFactory("NumBlockNft"); //this will be whatever you named your contract\n    const token = await Token.deploy();\n  \n    console.log("Token address:", token.address);\n}\n  \n  main()\n    .then(() => process.exit(0))\n    .catch((error) => {\n      console.error(error);\n      process.exit(1);\n    });\n')),(0,r.kt)("p",null,"Now, edit your hardhat.config.js to look something like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"showLineNumbers",showLineNumbers:!0},'require("@nomicfoundation/hardhat-toolbox");\nconst fs = require("fs");\n\nmodule.exports = {\n  solidity: "0.8.9",\n  defaultNetwork : \'numblock\',\n  networks: {\n    \n    NumBlock: {\n      url: \'https://rpc-testnet.numblock.org\',\n      gasPrice: 1000000000,\n      accounts: {\n        mnemonic: mnemonic(),\n      },\n    },\n  },\n};\nfunction mnemonic() {\n  try {\n    return fs.readFileSync("./mnemonic.txt").toString().trim();\n  } catch (e) {\n    console.log(e);\n      console.log(\n        "WARNING: No mnemonic file created for a deploy account."\n      );\n  }\n  return "";\n};\n')),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Proper private key management is critical. To safeguard the mnemonic, it has been added to a file called mnemonic.txt in this case. DO NOT PUSH THIS TO GITHUB OR COMMIT TO SOURCE CONTROL. Even if you delete it after, assume it will live on forever after being committed and is compromised. Add mnemonic.txt to your .gitignore if you plan on committing, or store securely it in an environment variable.")),(0,r.kt)("p",null,"To deploy, run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx hardhat run scripts/deploy.js --network numblock\n")),(0,r.kt)("p",null,"Congrats, you have deployed a basic NRC-721 contract to NumBlock! If you like, you can build out a front end to view your NFT. For now, you can view your token in ",(0,r.kt)("a",{parentName:"p",href:"https://testnet.numblock.org/"},"NumBlock Testnet"),"."))}d.isMDXComponent=!0}}]);